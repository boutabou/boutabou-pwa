(()=>{function e(t){var n=o[t];if(void 0!==n)return n.exports;var s=o[t]={exports:{}};return a[t].call(s.exports,s,s.exports,e),s.exports}var t=Math.round,a={"./main.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t);var r=a("./scripts/utils/PwaPopUp.js"),i=a("../node_modules/swup/lib/index.js"),l=a("./scripts/blocks/BlockManager.js"),c=a("./scripts/utils/Direction.js"),u=a("./scripts/utils/SplitContent.js"),d=a("./scripts/blobs/Blobs.js"),p=function(){function e(){var t=this;o(this,e),this.os=navigator.userAgent&&/iPad|iPhone|iPod/.test(navigator.userAgent),document.addEventListener("swup:contentReplaced",function(){t.init(),t.socket&&document.querySelector(".js-login")&&(t.socket.off(),t.socket.disconnect(),t.socket=null)}),document.addEventListener("swup:willReplaceContent",function(){t.socket||(t.socket=t.blocks.getSocket(),t.direction.updateSocket(t.socket),t.direction.init())}),this.initApp(),this.initServiceWorker()}return s(e,[{key:"initApp",value:function(){this.swup=new i.default,new u.default,new r.default,this.blocks=new l.default(this.socket,this.swup,this.os),this.direction=new c.default(this.socket,this.swup),new d.default}},{key:"init",value:function(){this.blocks=new l.default(this.socket,this.swup,this.os),new u.default,new d.default}},{key:"initServiceWorker",value:function(){"serviceWorker"in navigator}}]),e}();new p},"./scripts/blobs/Blobs.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>d});var r=a("../node_modules/paper/dist/paper-full.js"),i=a.n(r),l=a("../node_modules/perlin-noise-3d/dist/perlin-noise-3d.js"),c=a.n(l),u=a("./scripts/blobs/Pages.js"),d=function(){function e(){o(this,e),this.initEls(),this.initDraw()}return s(e,[{key:"initEls",value:function(){this.$els={},document.getElementById("blobs")&&(this.$els={canvas:document.getElementById("blobs"),pages:document.querySelector(".js-container-blobs")},this.$els.canvas.width=document.body.clientWidth,this.$els.canvas.height=document.body.clientHeight),document.getElementById("blobs-popup")&&(this.$els.canvasPopup=document.getElementById("blobs-popup"),this.$els.canvasPopup.width=document.body.clientWidth,this.$els.canvasPopup.height=document.body.clientHeight),this.noise=new(c())}},{key:"initDraw",value:function(){if(this.$els.pages){r.setup(this.$els.canvas);var e=new u.default(this.$els.pages.dataset.pages);this.animation(e.getShapes())}if(this.$els.canvasPopup){r.setup(this.$els.canvasPopup);var t=new u.default("popup");this.animation(t.getShapes())}}},{key:"animation",value:function(t){var e=this.noise;r.view.onFrame=function(a){t.forEach(function(t,o){t.finalPath.segments.forEach(function(n,s){var r=1;1<t.turbulence&&(t.turbulence-=.001),r=-2*t.turbulence*t.turbulence+6*t.turbulence-3,n.point.x=t.path.segments[s].point.x+30*(e.get(s+o,0,.003*a.count+r)-.5)*r,n.point.y=t.path.segments[s].point.y+30*(e.get(0,s+o,.003*a.count+r)-.5)*r})})},r.view.onClick=function(a){t.forEach(function(e){e.coorX<a.point.x+30&&e.coorX+e.width>a.point.x-30&&e.coorY<a.point.y+30&&e.coorY+e.height>a.point.y-30&1>=e.turbulence&&(e.turbulence=2)})},window.onclick=function(a){t.forEach(function(e){e.coorX<a.clientX+30&&e.coorX+e.width>a.clientX-30&&e.coorY<a.clientY+30&&e.coorY+e.height>a.clientY-30&1>=e.turbulence&&(e.turbulence=2)})}}}]),e}();new d},"./scripts/blobs/Pages.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>d});var r=a("./scripts/blobs/shapes/Circle.js"),i=a("./scripts/blobs/shapes/Eight.js"),l=a("./scripts/blobs/shapes/OutGrowth.js"),c=a("./scripts/blobs/shapes/Star.js"),u=a("./scripts/blobs/shapes/Rect.js"),d=function(){function e(t){o(this,e),this.vars(),this.initDraw(t)}return s(e,[{key:"vars",value:function(){this.shapes=[],this.textureRed="./../../../assets/images/blobs/texture-red.png",this.textureBlue="./../../../assets/images/blobs/texture-blue.png",this.textureWhite="./../../../assets/images/blobs/texture-white.png",this.texturePurple="./../../../assets/images/blobs/texture-purple.png"}},{key:"initDraw",value:function(e){"welcome"===e?this.drawWelcome():"popup"===e?this.drawPopUp():"room"===e?this.drawRoom():"theme"===e?this.drawTheme():"game"===e?this.drawGame():void 0}},{key:"drawWelcome",value:function(){this.shapes.push(new r.default(1,-.2,2,2,0,"#FE6A7A"),new r.default(1.2,0,1.2,1.2,0,"#5FE7EF"),new i.default(-3,-6.2,10,7.8,-5,"#FCC5DD"),new l.default(-1.5,.6,3,2.5,-20,"#FFE202"),new l.default(4.8,0,2.2,3,-20,"#FE6A7A",this.textureRed),new l.default(1.5,-1.8,2.5,2.4,0,"#FFFDDF",this.textureWhite),new r.default(.4,-.4,1,1,0,"#FE6A7A"),new r.default(3,-1.4,1,1,0,"#6500FF"),new r.default(.5,7.7,5,3.5,0,"#FE6A7A"),new i.default(-2,8,6,3,20,"#6500FF"),new i.default(3,8.4,5,3,80,"#5FE7EF"),new l.default(5.5,5.2,2.2,3.4,0,"#FFFDDF"),new r.default(-1.5,5.4,2,3,0,"#5FE7EF",this.textureBlue),new l.default(3,8.2,1.6,1.4,45,"#FFE202"),new l.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF")),new c.default(5,2.8,10,.7,.35,0,"#5FE7EF"),new c.default(.1,2,10,.3,.15,0,"#FE6A7A"),new c.default(3.9,1.1,10,.4,.2,0,"#6500FF"),new c.default(5,5,10,.2,.1,0,"#FFE202"),new c.default(1,4,10,.4,.2,0,"#FE6A7A"),new c.default(.3,6.2,10,.3,.15,0,"#6500FF"),new c.default(3.5,8.9,10,.3,.15,0,"#FE6A7A"),new c.default(2,9,10,.2,.1,0,"#FFE202"),new c.default(1.6,8.1,10,.4,.2,0,"#5FE7EF")}},{key:"drawPopUp",value:function(){this.shapes.push(new r.default(1,.8,2,2,0,"#FE6A7A"),new r.default(1.2,1,1.2,1.2,0,"#5FE7EF"),new i.default(-3,-5.2,10,7.8,-5,"#FCC5DD"),new l.default(-1.5,1.6,3,2.5,-20,"#FFE202"),new l.default(4.8,1,2.2,2,-200,"#FE6A7A",this.textureRed),new l.default(1.5,-1,2.2,2.4,0,"#FFFDDF",this.textureWhite),new r.default(.4,.6,.8,.8,0,"#FE6A7A"),new r.default(3,-.4,1,1,0,"#6500FF"),new r.default(1,7.5,4,3.5,0,"#FE6A7A"),new i.default(-2,8,6,3,20,"#6500FF",this.texturePurple),new i.default(3,8,5,3,80,"#5FE7EF"),new l.default(4.6,5.2,2.2,3.4,0,"#FFFDDF"),new r.default(-1,5.4,2,3,0,"#5FE7EF",this.textureBlue),new l.default(3,8.2,1.6,1.4,45,"#FFE202"),new l.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF"),new r.default(2.6,8.5,.9,.9,0,"#FCC5DD")),new c.default(4.6,2.6,10,.7,.35,0,"#FFE202"),new c.default(.1,2.6,10,.4,.2,0,"#FE6A7A"),new c.default(2.1,2.1,10,.2,.1,0,"#6500FF"),new c.default(5.5,6.5,10,.4,.2,0,"#5FE7EF"),new c.default(.5,5.5,10,.3,.15,0,"#6500FF"),new c.default(3.5,8.9,10,.3,.15,0,"#FE6A7A"),new c.default(2,9,10,.2,.1,0,"#FFE202"),new c.default(1.8,7.9,10,.5,.25,0,"#5FE7EF")}},{key:"drawRoom",value:function(){this.shapes.push(new r.default(-1,6,10,10,0,"#FCC5DD"),new r.default(1,7.5,4,3.5,0,"#FE6A7A"),new l.default(0,7.5,2,2,30,"#FFE202"),new i.default(-2,8,6,3,20,"#6500FF",this.texturePurple),new i.default(3,8,5,3,80,"#5FE7EF"),new l.default(4.6,5.2,2.2,3.4,0,"#FFFDDF",this.textureWhite),new r.default(-1,5.4,2,3,0,"#5FE7EF",this.textureBlue),new l.default(3,8.2,1.6,1.4,45,"#FFE202"),new l.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF")),new c.default(4.2,8,10,.2,.1,0,"#6500FF"),new c.default(2.5,10,10,.3,.15,0,"#FCC5DD"),new c.default(1.6,7.6,10,.5,.25,0,"#5FE7EF"),new u.default(0,7.5,6,4)}},{key:"drawTheme",value:function(){this.shapes.push(new i.default(4.8,.5,3.4,2.5,-60,"#6500FF"),new i.default(-2,1.9,4,2,-60,"#FE6A7A"),new l.default(-.5,2,1.5,1.5,-10,"#5FE7EF",this.textureBlue),new r.default(-.2,1,.8,.8,0,"#6500FF"),new r.default(1,.2,.4,.4,0,"#FE6A7A"),new r.default(5.6,2,.6,.6,0,"#FCC5DD"),new l.default(-.8,5.4,2,2,-80,"#6500FF",this.texturePurple),new i.default(-1,6.8,4.5,1.2,10,"#FCC5DD"),new l.default(-.2,6.4,1,1,10,"#FFE202"),new r.default(1.4,6.8,.4,.4,0,"#5FE7EF"),new l.default(4.8,5.8,3.2,2.5,100,"#5FE7EF"),new r.default(5.8,6.4,.4,.4,0,"#FFE202"),new r.default(5.4,6.8,1,1,0,"#FFFDDF",this.textureWhite),new r.default(5.6,9,.5,.5,0,"#FE6A7A")),new c.default(.6,.5,10,.2,.1,0,"#FFE202"),new c.default(1.4,.6,4,.18,.04,0,"#5FE7EF"),new c.default(5,1,10,.3,.15,0,"#5FE7EF"),new c.default(1.4,2.1,10,.2,.1,0,"#FFFDDF"),new c.default(5.6,3,10,.4,.2,0,"#FFE202"),new c.default(.5,5.8,10,.3,.15,0,"#FFFDDF"),new c.default(1.4,6.8,4,.18,.04,0,"#FFFDDF"),new c.default(5.5,6,10,.2,.1,0,"#FE6A7A"),new c.default(1,8.8,10,.1,.05,0,"#FFE202"),new c.default(.5,9.5,10,.3,.15,0,"#5FE7EF"),new c.default(5,9,4,.2,.05,0,"#FFFDDF")}},{key:"drawGame",value:function(){this.shapes.push(new r.default(-1,3,7,7,0,"#FCC5DD"),new l.default(3.4,5.4,1.2,1,-45,"#5FE7EF"),new r.default(-1,3,4,5,0,"#5FE7EF"),new r.default(-1,6,4,5,0,"#FE6A7A"),new l.default(-1,4.3,2,2,0,"#FFE202"),new i.default(-1,3.3,3,2,0,"#FFFDDF",this.textureWhite),new r.default(3,3,2,2,-100,"#FFE202"),new i.default(4,3.3,3,2,80,"#6500FF",this.texturePurple),new r.default(3.4,3.6,1.2,1,0,"#5FE7EF"),new r.default(-1,6,10,10,0,"#6500FF"),new r.default(1,7.5,4,3.5,0,"#FE6A7A"),new l.default(0,7.5,2,2,30,"#FFE202"),new i.default(-2,8,6,3,20,"#6500FF",this.texturePurple),new i.default(3,8,5,3,80,"#5FE7EF"),new l.default(4.6,5.2,2.2,3.4,0,"#FFFDDF",this.textureWhite),new r.default(-1,5.4,2,3,0,"#5FE7EF",this.textureBlue),new l.default(3,8.2,1.6,1.4,45,"#FFE202"),new l.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF")),new c.default(4.8,6,10,.5,.25,0,"#FE6A7A"),new c.default(1.4,5.2,10,.5,.25,0,"#6500FF"),new c.default(2.2,5.6,10,.2,.1,0,"#FCC5DD"),new c.default(4.2,8,10,.2,.1,0,"#6500FF"),new c.default(2.5,10,10,.3,.15,0,"#FCC5DD"),new c.default(1.6,7.6,10,.5,.25,0,"#5FE7EF"),new u.default(0,4,6,7)}},{key:"getShapes",value:function(){return this.shapes}}]),e}()},"./scripts/blobs/shapes/Circle.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>h});var y=a("./scripts/blobs/shapes/Shape.js"),b=a("../node_modules/paper/dist/paper-full.js"),m=a.n(b),h=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"drawShape",value:function(e,t,a){e.add(new b.Point(0*t,.5*a)),e.add(new b.Point(.5*t,0*a)),e.add(new b.Point(1*t,.5*a)),e.add(new b.Point(.5*t,1*a))}}]),t}(y.default)},"./scripts/blobs/shapes/Eight.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>h});var y=a("./scripts/blobs/shapes/Shape.js"),b=a("../node_modules/paper/dist/paper-full.js"),m=a.n(b),h=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"drawShape",value:function(e,t,a){e.add(new b.Point(0*t,.5*a)),e.add(new b.Point(.25*t,0*a)),e.add(new b.Point(.5*t,.2*a)),e.add(new b.Point(.75*t,0*a)),e.add(new b.Point(1*t,.5*a)),e.add(new b.Point(.75*t,1*a)),e.add(new b.Point(.5*t,.8*a)),e.add(new b.Point(.25*t,1*a))}}]),t}(y.default)},"./scripts/blobs/shapes/OutGrowth.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>h});var y=a("./scripts/blobs/shapes/Shape.js"),b=a("../node_modules/paper/dist/paper-full.js"),m=a.n(b),h=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"drawShape",value:function(e,t,a){e.add(new b.Point(0*t,.5*a)),e.add(new b.Point(.3*t,.1*a)),e.add(new b.Point(1*t,0*a)),e.add(new b.Point(.8*t,.5*a)),e.add(new b.Point(.9*t,.8*a)),e.add(new b.Point(.4*t,1*a))}}]),t}(y.default)},"./scripts/blobs/shapes/Rect.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>l});var r=a("../node_modules/paper/dist/paper-full.js"),i=a.n(r),l=function(){function e(t,a,n,s){o(this,e),this.vars(t,a,n,s),this.drawRect()}return s(e,[{key:"vars",value:function(e,t,a,o){this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,this.coorX=e*this.windowWidth/6,this.coorY=t*this.windowHeight/10,this.width=a*this.windowWidth/6,this.height=o*this.windowWidth/6}},{key:"drawRect",value:function(){var e=new r.Rectangle(new r.Point(this.coorX,this.coorY),new r.Point(this.coorX+this.width,this.coorY+this.height)),t=new r.Size(20,20),a=new r.Path.Rectangle(e,t);a.clipMask=!0}}]),e}()},"./scripts/blobs/shapes/Shape.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>u});var r=a("../node_modules/paper/dist/paper-full.js"),i=a.n(r),l=a("../node_modules/perlin-noise-3d/dist/perlin-noise-3d.js"),c=a.n(l),u=function(){function e(t,a,n,s,r,i,l){o(this,e),this.vars(t,a,n,s,r,i,l),this.drawShape(this.path,this.width,this.height),this.path.closed=!0,this.path.smooth(),this.path.rotate(this.rotate),this.path.fillColor=this.color,this.addNoise()}return s(e,[{key:"vars",value:function(e,t,a,o,n,s,i){this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,this.coorX=e*this.windowWidth/6,this.coorY=t*this.windowHeight/10,this.width=a*this.windowWidth/6,this.height=o*this.windowHeight/10,this.widthAsk=a,this.heightAsk=o,this.rotate=n,this.color=s,this.texture=i,this.path=new r.Path,this.finalPath,this.turbulence=1,this.noise=new(c())}},{key:"drawShape",value:function(){}},{key:"addNoise",value:function(){var e=this;if(this.path.segments.forEach(function(t){t.point.x=t.point.x+e.coorX+(Math.random()-.5)*e.widthAsk,t.point.y=t.point.y+e.coorY+(Math.random()-.5)*e.heightAsk}),this.finalPath=this.path.clone(),this.finalPath.fillColor=this.color,this.texture){var t=new r.Raster(this.texture);t.position=new r.Point(this.coorX+t.width/2-50,this.coorY+t.height/2-50),t.scale(Math.max((this.width+100)/t.width,(this.height+100)/t.height)),new r.Group([t,this.finalPath]),this.finalPath.clipMask=!0}this.path.visible=!1,this.finalPath.visible=!0}}]),e}()},"./scripts/blobs/shapes/Star.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>l});var r=a("../node_modules/paper/dist/paper-full.js"),i=a.n(r),l=function(){function e(t,a,n,s,r,i,l,c){o(this,e),this.vars(t,a,n,s,r,i,l,c),this.drawStar()}return s(e,[{key:"vars",value:function(e,t,a,o,n,s,r,i){this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,this.centerX=e*this.windowWidth/6,this.centerY=t*this.windowHeight/10,this.radius1=o*this.windowWidth/6,this.radius2=n*this.windowWidth/6,this.points=a,this.rotate=s,this.color=r,this.texture=i}},{key:"drawStar",value:function(){var e=new r.Path.Star({x:this.centerX,y:this.centerY},this.points,this.radius1,this.radius2);e.fillColor=this.color,e.rotate(this.rotate)}}]),e}()},"./scripts/blocks/Block.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>r});var r=function(){function e(t,a,n,s){var r=this;if(o(this,e),document.querySelector(t)){if(this.socket=a,this.swup=n,this.os=s,this.el=t.replace(".js-",""),this.socket)this.socket.emit("load:"+this.el,this.socket.id);else if("login"!==this.el)return void this.swup.loadPage({url:"/views/pages/login.ejs",method:"GET"});this.vars(),this.bindMethods(),this.initEls(),this.initEvents(),document.addEventListener("swup:willReplaceContent",function(){r.destroy()})}}return s(e,[{key:"vars",value:function(){}},{key:"bindMethods",value:function(){}},{key:"initEls",value:function(){}},{key:"initEvents",value:function(){}},{key:"destroy",value:function(){}}]),e}()},"./scripts/blocks/BlockManager.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>y});var r=a("./scripts/blocks/Login.js"),i=a("./scripts/blocks/ScanQrCode.js"),l=a("./scripts/blocks/Room.js"),c=a("./scripts/blocks/Theme.js"),u=a("./scripts/blocks/Dashboard.js"),d=a("./scripts/blocks/ResultTheme.js"),p=a("./scripts/blocks/Defeat.js"),f=a("./scripts/blocks/Winner.js"),y=function(){function e(t,a,n){var s=this;o(this,e),this.login=new r.default(".js-login",t,a),new i.default(".js-scan",t,a,n),new l.default(".js-room",t,a),new c.default(".js-theme",t,a),new u.default(".js-dashboard",t,a),new d.default(".js-result-theme",t,a),new p.default(".js-defeat",t,a),new f.default(".js-winner",t,a),this.socket=t,this.bindMethods(),this.initEls(),this.initEvents(),document.addEventListener("swup:contentReplaced",function(){s.destroy()})}return s(e,[{key:"bindMethods",value:function(){this.initSocket=this.initSocket.bind(this)}},{key:"initEls",value:function(){this.loginButton=document.querySelector(".js-login-button")}},{key:"initEvents",value:function(){this.loginButton&&this.loginButton.addEventListener("click",this.initSocket)}},{key:"initSocket",value:function(){this.socket=this.login.getSocket()}},{key:"getSocket",value:function(){return this.socket}},{key:"destroy",value:function(){this.loginButton&&this.loginButton.removeEventListener("click",this.initSocket)}}]),e}()},"./scripts/blocks/Dashboard.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>F});var y=a("./scripts/blocks/Block.js"),b=a("./scripts/blocks/interactions/Bool.js"),m=a("./scripts/blocks/interactions/List.js"),h=a("./scripts/blocks/interactions/Cursor.js"),k=a("./scripts/blocks/interactions/Rotate.js"),v=a("../node_modules/gsap/index.js"),g=a("../node_modules/gsap/DrawSVGPlugin.js");v.gsap.registerPlugin(g.DrawSVGPlugin);var F=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"initEls",value:function(){this.$els={grid:document.querySelector(".js-grid-container"),task:document.querySelector(".js-task"),score:document.querySelector(".js-score"),scoreContainer:document.querySelector(".js-score-container"),scoreEnd:document.querySelector(".js-score-end"),timer:document.querySelector(".js-timer"),timerStart:document.querySelector(".js-timer-start"),name:document.querySelector(".js-name"),instructions:document.querySelector(".js-instructions")},this.cptCursors=0,this.tl}},{key:"bindMethods",value:function(){this.displayDashboard=this.displayDashboard.bind(this),this.displayTask=this.displayTask.bind(this),this.displayScore=this.displayScore.bind(this),this.killTimer=this.killTimer.bind(this),this.vibrate=this.vibrate.bind(this)}},{key:"initEvents",value:function(){window.history.pushState({},""),this.socket.on("dashboard:display",this.displayDashboard),this.socket.on("dashboard:display-task",this.displayTask),this.socket.on("dashboard:update-score",this.displayScore),this.socket.on("dashboard:kill-timer",this.killTimer),this.socket.on("dashboard:vibrate",this.vibrate),this.timer()}},{key:"timer",value:function(){var e=this;this.$els.timerStart.innerHTML=3,setTimeout(function(){e.$els.timerStart.innerHTML=2},1e3),setTimeout(function(){e.$els.timerStart.innerHTML=1},2e3),setTimeout(function(){e.$els.timerStart.innerHTML=0},3e3),setTimeout(function(){e.startGame()},4e3)}},{key:"startGame",value:function(){this.$els.grid.classList.remove("grid-container--disable"),this.$els.scoreContainer.classList.remove("score--disable"),this.$els.timerStart.classList.add("timer-start--disable"),this.$els.instructions.classList.add("instructions--disable"),this.socket.emit("dashboard:start")}},{key:"displayDashboard",value:function(e,t){var a=this;this.$els.name.innerHTML=t.title,e.dashboard.forEach(function(e){switch(e.type){case"bool":new b.default(e.data.title,a.$els.grid,e.position,null,a.socket);break;case"simple-list":case"complex-list":new m.default(e.data.title,a.$els.grid,e.position,e.data.param,a.socket);break;case"simple-cursor":case"complex-cursor":a.cptCursors++,new h.default(e.data.title,a.$els.grid,e.position,e.data.param,a.socket,e.orientation,a.cptCursors,e.type);break;case"rotate":new k.default(e.data.title,a.$els.grid,e.position,e.data.param,a.socket);}})}},{key:"displayTask",value:function(e,t){this.$els.task.innerHTML=e,this.resetTimer(t)}},{key:"resetTimer",value:function(e){this.tl=v.gsap.timeline({repeat:0}),this.tl.from("rect",{drawSVG:"0% 0%",duration:e/1e3})}},{key:"displayScore",value:function(e){this.$els.score.style.transform="scaleX("+.1*e+")",this.$els.scoreEnd.style.width=10*e+"%"}},{key:"vibrate",value:function(){window.navigator.vibrate(30)}},{key:"killTimer",value:function(){this.$els.timer.style.strokeDashoffset=0,this.tl&&this.tl.kill()}},{key:"destroy",value:function(){this.socket.removeListener("dashboard:display"),this.socket.removeListener("dashboard:display-task"),this.socket.removeListener("dashboard:update-score"),this.socket.removeListener("dashboard:kill-timer"),this.socket.removeListener("dashboard:vibrate"),this.$els.timer.style.strokeDashoffset=0,this.tl.kill()}}]),t}(y.default)},"./scripts/blocks/Defeat.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>m});var y=a("./scripts/blocks/Block.js"),b=a("../server/data/levels.json"),m=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"initEls",value:function(){this.$els={team:document.querySelector(".js-defeat__team"),comment:document.querySelector(".js-defeat__comment")}}},{key:"bindMethods",value:function(){this.displayDefeat=this.displayDefeat.bind(this)}},{key:"initEvents",value:function(){var e=this;window.history.pushState({},""),this.socket.on("defeat:loose",this.displayDefeat),setTimeout(function(){e.socket.off(),e.socket.disconnect()},100)}},{key:"displayDefeat",value:function(e){this.$els.team.innerHTML=b[e+1].team,this.$els.comment.innerHTML=b[e+1].comment}}]),t}(y.default)},"./scripts/blocks/Login.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>m});var y=a("./scripts/blocks/Block.js"),b=a("../node_modules/socket.io-client/wrapper.mjs"),m=function(e){function t(){return n(this,t),o.apply(this,arguments)}i(t,e);var o=c(t);return r(t,[{key:"initEls",value:function(){this.$els={loginButton:document.querySelector(".js-login-button"),username:document.querySelector(".js-username"),avatar:document.querySelector(".js-avatar")},this.currentName="",this.$els.loginButton.classList.add("inactive"),this.avatars=a("../server/data/avatars.json"),this.addAvatar()}},{key:"bindMethods",value:function(){this.createProfile=this.createProfile.bind(this),this.checkKeyPressed=this.checkKeyPressed.bind(this),this.enableButtonLogin=this.enableButtonLogin.bind(this),this.addAvatar=this.addAvatar.bind(this)}},{key:"initEvents",value:function(){this.$els.loginButton.addEventListener("click",this.createProfile),this.$els.avatar.addEventListener("click",this.addAvatar),this.$els.username.addEventListener("keypress",this.checkKeyPressed),this.$els.username.addEventListener("keydown",this.enableButtonLogin)}},{key:"addAvatar",value:function(){this.img&&this.$els.avatar.removeChild(this.img),this.avatar=this.avatars[Math.floor(Math.random()*this.avatars.length)],this.img=document.createElement("img"),this.img.src=this.avatar.src,this.$els.avatar.appendChild(this.img)}},{key:"checkKeyPressed",value:function(t){(13===t.keyCode||"Enter"===t.key)&&this.$els.username.value&&(t.preventDefault(),this.$els.loginButton.click()),this.enableButtonLogin()}},{key:"enableButtonLogin",value:function(){var e=this;setTimeout(function(){""==e.$els.username.value?e.$els.loginButton.classList.add("inactive"):e.$els.loginButton.classList.remove("inactive")},10)}},{key:"createProfile",value:function(){this.$els.username.value&&(this.socketNew=(0,b.io)(),this.currentName=this.$els.username.value,this.socketNew.emit("room:user-login",this.currentName,this.avatar))}},{key:"getSocket",value:function(){return this.socketNew}},{key:"destroy",value:function(){this.$els.loginButton.removeEventListener("click",this.createProfile),this.$els.avatar.removeEventListener("click",this.addAvatar),this.$els.username.removeEventListener("keypress",this.checkKeyPressed)}}]),t}(y.default)},"./scripts/blocks/ResultTheme.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>b});var y=a("./scripts/blocks/Block.js"),b=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"initEls",value:function(){this.$els={title:document.querySelector(".js-theme-title"),text:document.querySelector(".js-theme-text"),winner:document.querySelector(".js-theme-winner"),img:document.querySelector(".js-theme-img"),winnerButton:document.querySelector(".js-to-winner-button"),popup:document.querySelector(".js-popup"),popupTitle:document.querySelector(".js-popup-title")}}},{key:"bindMethods",value:function(){this.displayTheme=this.displayTheme.bind(this),this.waitScan=this.waitScan.bind(this),this.endScan=this.endScan.bind(this)}},{key:"initEvents",value:function(){window.history.pushState({},""),this.socket.on("result-theme:win",this.displayTheme),this.socket.on("popup-wait-scan",this.waitScan),this.socket.on("remove-popup-wait-scan",this.endScan)}},{key:"waitScan",value:function(){this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="Un joueur est en train de choisir le prochain th\xE9me"}},{key:"endScan",value:function(){this.$els.popup.classList.remove("active"),this.$els.popupTitle.innerHTML=""}},{key:"displayTheme",value:function(e){this.$els.title.innerHTML=e.title,this.$els.text.innerHTML=e.end,this.$els.img.src=e.img}},{key:"destroy",value:function(){this.socket.removeListener("result-theme:win"),this.socket.off("popup-wait-scan",this.waitScan),this.socket.off("remove-popup-wait-scan",this.endScan)}}]),t}(y.default)},"./scripts/blocks/Room.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>b});var y=a("./scripts/blocks/Block.js"),b=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"initEls",value:function(){this.$els={listUsers:document.querySelector(".js-list-users"),scanButton:document.querySelector(".js-scan-button"),popup:document.querySelector(".js-popup"),popupTitle:document.querySelector(".js-popup-title")}}},{key:"bindMethods",value:function(){this.displayUsers=this.displayUsers.bind(this),this.clickScan=this.clickScan.bind(this),this.waitRoom=this.waitRoom.bind(this),this.waitScan=this.waitScan.bind(this),this.endScan=this.endScan.bind(this)}},{key:"initEvents",value:function(){this.socket.on("room:display-users",this.displayUsers),this.socket.on("room:popup-wait-room",this.waitRoom),this.socket.on("popup-wait-scan",this.waitScan),this.socket.on("remove-popup-wait-scan",this.endScan),this.$els.scanButton.addEventListener("click",this.clickScan)}},{key:"clickScan",value:function(){this.socket.emit("room:scan-button-clicked",this.socket.id)}},{key:"waitRoom",value:function(){this.socket.off(),this.socket.disconnect(),this.socket=null,this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="D\xE9sol\xE9e, une partie est d\xE9j\xE0 en cour"}},{key:"waitScan",value:function(){this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="Un joueur est en train de choisir le th\xE9me"}},{key:"endScan",value:function(){this.$els.popup.classList.remove("active"),this.$els.popupTitle.innerHTML=""}},{key:"displayUsers",value:function(e){var t=this;this.$els.listUsers.innerHTML="",e.forEach(function(e){var a=document.createElement("div"),o=document.createElement("p"),n=document.createElement("img");a.setAttribute("id","user-"+e.id),o.innerHTML=e.name,n.src=e.avatar,t.$els.listUsers.appendChild(a),a.appendChild(o),a.appendChild(n)})}},{key:"destroy",value:function(){this.socket.off("room:display-users",this.displayUsers),this.socket.off("room:popup-wait-room",this.waitRoom),this.socket.off("popup-wait-scan",this.waitScan),this.socket.off("remove-popup-wait-scan",this.endScan),this.$els.scanButton.removeEventListener("click",this.clickScan)}}]),t}(y.default)},"./scripts/blocks/ScanQrCode.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>b});var y=a("./scripts/blocks/Block.js"),b=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"vars",value:function(){var e=this;this.os||(this.qrCodeSuccessCallback=function(t){e.socket.emit("theme-choice",t),e.html5QrCode.clear()},this.config={fps:10,qrbox:250},"undefined"!=typeof Html5Qrcode&&(this.html5QrCode=new Html5Qrcode("qr-reader")))}},{key:"initEls",value:function(){this.$els={idButton:document.querySelector(".js-id-button"),id:document.querySelector(".js-id"),replacementContent:document.querySelector(".js-ios-content")},this.currentId}},{key:"bindMethods",value:function(){this.getId=this.getId.bind(this),this.checkKeyPressed=this.checkKeyPressed.bind(this),this.displayReplacementContent=this.displayReplacementContent.bind(this)}},{key:"initEvents",value:function(){this.os?this.displayReplacementContent():this.startScan(),this.$els.idButton.addEventListener("click",this.getId),this.$els.id.addEventListener("keypress",this.checkKeyPressed)}},{key:"checkKeyPressed",value:function(t){(13===t.keyCode||"Enter"===t.key)&&this.$els.id.value&&(t.preventDefault(),this.$els.idButton.click())}},{key:"getId",value:function(){this.$els.id.value&&0<=this.$els.id.value&&2>=this.$els.id.value?(this.currentId=this.$els.id.value,this.socket.emit("theme-choice",this.currentId)):alert("Entrez un id correct")}},{key:"startScan",value:function(){this.html5QrCode&&this.html5QrCode.start({facingMode:"environment"},this.config,this.qrCodeSuccessCallback,function(e){console.log("error from scan ",e)})["catch"](function(e){console.log("error from scan start : ",e)})}},{key:"displayReplacementContent",value:function(){this.$els.replacementContent.innerHTML="Le scan de QRCode n'est pas compatible avec votre appareil."}},{key:"destroy",value:function(){this.html5QrCode&&this.html5QrCode.stop().then(function(){console.log("scan stop")})["catch"](function(e){console.log("scan stop faild ",e)}),this.$els.idButton.removeEventListener("click",this.getId),this.$els.id.removeEventListener("keypress",this.checkKeyPressed)}}]),t}(y.default)},"./scripts/blocks/Theme.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>b});var y=a("./scripts/blocks/Block.js"),b=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"initEls",value:function(){this.$els={title:document.querySelector(".js-theme-title"),intro:document.querySelector(".js-theme-intro"),button:document.querySelector(".js-play-button")}}},{key:"bindMethods",value:function(){this.displayTheme=this.displayTheme.bind(this),this.play=this.play.bind(this)}},{key:"initEvents",value:function(){window.history.pushState({},""),this.socket.on("theme:selected",this.displayTheme),this.$els.button.addEventListener("click",this.play)}},{key:"displayTheme",value:function(e){this.$els.title.innerHTML=e.title,this.$els.intro.innerHTML=e.intro}},{key:"play",value:function(){this.socket.emit("theme:play")}},{key:"destroy",value:function(){this.socket.off("theme:selected",this.displayTheme),this.$els.button.removeEventListener("click",this.play)}}]),t}(y.default)},"./scripts/blocks/Winner.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>b});var y=a("./scripts/blocks/Block.js"),b=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"initEls",value:function(){this.$els={title:document.querySelector(".js-theme-title"),avatar:document.querySelector(".js-winner-avatar"),winner:document.querySelector(".js-theme-winner"),challenge:document.querySelector(".js-theme-challenge"),scanButton:document.querySelector(".js-scan-button"),popup:document.querySelector(".js-popup"),popupTitle:document.querySelector(".js-popup-title")}}},{key:"bindMethods",value:function(){this.displayWinner=this.displayWinner.bind(this),this.waitScan=this.waitScan.bind(this),this.endScan=this.endScan.bind(this),this.clickScan=this.clickScan.bind(this)}},{key:"initEvents",value:function(){this.socket.on("winner:display-winner",this.displayWinner),this.socket.on("popup-wait-scan",this.waitScan),this.socket.on("remove-popup-wait-scan",this.endScan),this.$els.scanButton.addEventListener("click",this.clickScan)}},{key:"displayWinner",value:function(e,t){this.$els.title.innerHTML=e.title,this.$els.avatar.setAttribute("src",t.avatar),this.$els.winner.innerHTML=e.winner.replace("{winner}",t.name),this.$els.challenge.innerHTML=e.challenge}},{key:"clickScan",value:function(){this.socket.emit("winner:scan-button-clicked",this.socket.id)}},{key:"waitScan",value:function(){this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="Un joueur est en train de choisir le prochain th\xE9me"}},{key:"endScan",value:function(){this.$els.popup.classList.remove("active"),this.$els.popupTitle.innerHTML=""}},{key:"destroy",value:function(){this.socket.off("winner:display-winner",this.displayWinner),this.socket.off("popup-wait-scan",this.waitScan),this.socket.off("remove-popup-wait-scan",this.endScan),this.$els.scanButton.removeEventListener("click",this.clickScan)}}]),t}(y.default)},"./scripts/blocks/interactions/Bool.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>b});var y=a("./scripts/blocks/interactions/Interaction.js"),b=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("bool")}},{key:"bindMethods",value:function(){this.toogleBool=this.toogleBool.bind(this)}},{key:"displayInteraction",value:function(e){var t=document.createElement("span");t.classList.add("grid-container__btn"),t.innerHTML="ON",e.appendChild(t),t.addEventListener("click",this.toogleBool),this.interactions.push(t)}},{key:"toogleBool",value:function(t){"ON"===t.currentTarget.innerHTML?(t.currentTarget.innerHTML="OFF",this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:"on"},this.socket.id)):(t.currentTarget.innerHTML="ON",this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:"off"},this.socket.id))}},{key:"destroy",value:function(){var e=this;this.interactions.forEach(function(t){t.removeEventListener("click",e.toogleBool)})}}]),t}(y.default)},"./scripts/blocks/interactions/Cursor.js":(e,a,o)=>{"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function i(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=f();return function(){var a,o=y(e);if(t){var n=y(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return d(this,a)}}function d(e,t){return t&&("object"===n(t)||"function"==typeof t)?t:p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}o.r(a),o.d(a,{default:()=>m});var b=o("./scripts/blocks/interactions/Interaction.js"),m=function(e){function a(){return s(this,a),o.apply(this,arguments)}l(a,e);var o=u(a);return i(a,[{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("cursor-"+this.index),this.containerInteraction.classList.add(this.type)}},{key:"displayCursor",value:function(e,t,a,o){var n=this,s=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=[];s.classList.add("container-cursor-"+o,"container-cursor","container-cursor__"+t,"container-cursor__"+t+"-"+a.length),r.classList.add("cursor","cursor-"+t),r.setAttribute("id","cursor-"+o),i.classList.add("progress-bar","progress-"+t,"js-progress-"+o),l.classList.add("steps","steps-"+t),e.appendChild(s),s.appendChild(r),s.appendChild(i),s.appendChild(l),a.forEach(function(e,t){var a=document.createElement("div");a.classList.add("step-"+t),a.innerHTML=e,c.push(a),l.appendChild(a),n.interactions.push(e)});var u=document.getElementById("cursor-"+o);gsap.registerPlugin(Draggable),"vertical"===t?(c.forEach(function(e){e.style.height="calc( 100% /"+c.length+")"}),this.displayVerticalCursor(u,c,o)):"horizontal"===t?(c.forEach(function(e){e.style.width="calc( 100% /"+c.length+")"}),this.displayHorizontalCursor(u,c,o)):void 0}},{key:"displayVerticalCursor",value:function(e,a,o){var n=this,s=0,r=document.querySelector(".js-progress-"+o);Draggable.create(e,{type:"y",bounds:".container-cursor-"+o,onDrag:function(){gsap.set(e,{y:this.y})},onThrowUpdate:function(){gsap.set(e,{y:this.y})},liveSnap:!0,snap:function(e){return r.style.backgroundColor="#040f33",s=t(e/this.maxY*(a.length-1)),0===s?0:s===a.length-1?this.maxY:s*a[0].offsetHeight-14+12.5},onDragEnd:function(t){n.onDragEnd(t,s),r.style.backgroundColor="#6500FF"}})}},{key:"displayHorizontalCursor",value:function(e,a,o){var n=this,s=0,r=document.querySelector(".js-progress-"+o);Draggable.create(e,{type:"x",bounds:".container-cursor-"+o,onDrag:function(){gsap.set(e,{x:this.x})},onThrowUpdate:function(){gsap.set(e,{x:0})},liveSnap:!0,snap:function(e){return r.style.backgroundColor="#040f33",s=t(e/this.maxX*(a.length-1)),0===s?0:s===a.length-1?this.maxX:s*a[0].offsetWidth-14+12.5},onDragEnd:function(t){n.onDragEnd(t,s),r.style.backgroundColor="#6500FF"}})}},{key:"onDragEnd",value:function(t,e){this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:this.params[e]},this.socket.id)}}]),a}(b.default)},"./scripts/blocks/interactions/Interaction.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>r});var r=function(){function e(t,a,n,s,r,i,l,c){var u=this;o(this,e),this.title=t,this.grid=a,this.position=n,this.params=s,this.socket=r,this.orientation=i,this.index=l,this.type=c,this.containerInteraction,this.interactions=[],this.bindMethods(),this.createContainerInteraction(),this.addClassContainer(),this.displayInteraction(this.containerInteraction),this.displayCursor(this.containerInteraction,this.orientation,this.params,this.index),document.addEventListener("swup:willReplaceContent",function(){u.destroy()})}return s(e,[{key:"bindMethods",value:function(){}},{key:"createContainerInteraction",value:function(){var e=document.createElement("div");e.dataset.name=this.title.replace(/\W/g,"_").toLowerCase(),e.style.gridArea=this.position;var t=document.createElement("p");t.innerHTML=this.title,this.grid.appendChild(e),e.appendChild(t),this.containerInteraction=e}},{key:"addClassContainer",value:function(){}},{key:"displayInteraction",value:function(){}},{key:"displayCursor",value:function(){}},{key:"destroy",value:function(){}}]),e}()},"./scripts/blocks/interactions/List.js":(e,t,a)=>{"use strict";function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var a,o=f(e);if(t){var n=f(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return u(this,a)}}function u(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}a.r(t),a.d(t,{default:()=>b});var y=a("./scripts/blocks/interactions/Interaction.js"),b=function(e){function t(){return n(this,t),a.apply(this,arguments)}i(t,e);var a=c(t);return r(t,[{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("list")}},{key:"bindMethods",value:function(){this.clickListBtn=this.clickListBtn.bind(this)}},{key:"displayInteraction",value:function(e){var t=this;"string"==typeof this.params&&(this.params=[this.params]),this.params.forEach(function(a){var o=document.createElement("span");o.dataset.btnName=a.replace(/\W/g,"_").toLowerCase(),o.classList.add("grid-container__btn"),o.innerHTML=a,e.appendChild(o),t.interactions.push(o),o.addEventListener("click",t.clickListBtn)})}},{key:"clickListBtn",value:function(t){this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:t.currentTarget.dataset.btnName},this.socket.id)}},{key:"destroy",value:function(){var e=this;this.interactions.forEach(function(t){t.removeEventListener("click",e.clickListBtn)})}}]),t}(y.default)},"./scripts/blocks/interactions/Rotate.js":(e,a,o)=>{"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function i(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=f();return function(){var a,o=y(e);if(t){var n=y(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return d(this,a)}}function d(e,t){return t&&("object"===n(t)||"function"==typeof t)?t:p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}o.r(a),o.d(a,{default:()=>m});var b=o("./scripts/blocks/interactions/Interaction.js"),m=function(e){function a(){return s(this,a),o.apply(this,arguments)}l(a,e);var o=u(a);return i(a,[{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("rotate")}},{key:"bindMethods",value:function(){}},{key:"displayInteraction",value:function(e){var a=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),r=this,i=0;a.classList.add("container-rotate"),s.classList.add("ticks"),o.setAttribute("id","knob"),n.setAttribute("id","marker"),e.appendChild(a),a.appendChild(o),a.appendChild(s),o.appendChild(n),this.params.forEach(function(e){var t=document.createElement("span");t.dataset.btnName=e.replace(/\W/g,"_").toLowerCase(),t.classList.add("tick"),t.innerHTML=e,s.appendChild(t)}),gsap.registerPlugin(Draggable),Draggable.create("#knob",{type:"rotation",liveSnap:!0,snap:function(e){var a=t(e,10);return i=t(a/360*r.params.length),t(360/r.params.length*i)},onDragEnd:function(){var e=i%r.params.length;return 0>e&&(e=r.params.length+e),window.navigator.vibrate(200),r.socket.emit("interaction:activated",{element:{name:r.title.replace(/\W/g,"_").toLowerCase()},actionMake:r.params[e]},r.socket.id),t(360/r.params.length*i)}})}}]),a}(b.default)},"./scripts/utils/Direction.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>r});var r=function(){function e(t,a){o(this,e),this.socket=t,this.swup=a,this.bindMethods(),this.init()}return s(e,[{key:"bindMethods",value:function(){this.direction=this.direction.bind(this)}},{key:"init",value:function(){this.socket&&this.socket.on("direction",this.direction)}},{key:"direction",value:function(e){var t=e.replace("/views/pages/","").replace(".ejs",""),a=document.querySelector(".js-".concat(t));a||this.swup.loadPage({url:e,method:"GET"})}},{key:"updateSocket",value:function(e){this.socket=e}}]),e}()},"./scripts/utils/PwaPopUp.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>r});var r=function(){function e(){o(this,e),this.initEls(),this.initEvents()}return s(e,[{key:"initEls",value:function(){this._beforeInstallPrompt}},{key:"initEvents",value:function(){"onbeforeinstallprompt"in window&&window.addEventListener("beforeinstallprompt",this.beforeInstallPrompt)}},{key:"beforeInstallPrompt",value:function(e){return e.preventDefault(),this._beforeInstallPrompt=e,this._beforeInstallPrompt.prompt().then(function(){return this._beforeInstallPrompt.userChoice}).then(function(){})["catch"](function(e){if(-1<e.message.indexOf("user gesture"));else if(-1<e.message.indexOf("The app is already installed"));else return e})}}]),e}()},"./scripts/utils/SplitContent.js":(e,t,a)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a,o=0;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,{default:()=>l});var r=a("../node_modules/gsap/index.js"),i=a("../node_modules/gsap/SplitText.js"),l=function(){function e(){o(this,e),this.initEls(),this.initEvents()}return s(e,[{key:"initEls",value:function(){this.$els={texts:document.querySelectorAll(".js-split-text")}}},{key:"initEvents",value:function(){this.$els.texts&&this.splitText()}},{key:"splitText",value:function(){var e=this;r.default.registerPlugin(i.SplitText),this.$els.texts.forEach(function(t,a){e.$els.texts[a].setAttribute("id","splitText-"+a),new i.SplitText("#splitText-"+a,{type:"words,chars"})})}}]),e}()},"./main.scss":(e,t,a)=>{"use strict";a.r(t)},"../server/data/avatars.json":(e)=>{"use strict";e.exports=JSON.parse("[{\"src\":\"../../assets/images/avatars/avatar-0.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-1.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-2.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-3.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-4.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-5.png\",\"nbUsed\":0}]")},"../server/data/levels.json":(e)=>{"use strict";e.exports=JSON.parse("[{\"team\":\"La team silence\",\"comment\":\"Dites-nous tout ! Vous avez peur de brusquer vos ami(e)s? Un groupe avec une telle abstinence pour parler est-il vraiment un groupe d\u2019ami(e)s\u2026\"},{\"team\":\"La team embarras\",\"comment\":\"Bah alors ? Des difficult\xE9s \xE0 parler \xE0 vos ami(e)s ? Il va falloir gagner en assurance et communiquer plus facilement\"},{\"team\":\"La team pudique\",\"comment\":\"on y croit ! ne soyez pas si r\xE9serv\xE9s ! Vous voulez vous prot\xE9ger de qui ici ?\"},{\"team\":\"La team s\xE9curit\xE9\",\"comment\":\"exposez -vous ! Vous avancez bien mais tout n\u2019est pas jou\xE9, jouez le risque ! Votre \xE9quipe craint encore les tabous\u2026\"},{\"team\":\"La team d\xE9crassage\",\"comment\":\"La moiti\xE9 ! Vous commencez \xE0 parler plus librement, continuez de retirer ses barri\xE8res ! Sauf si votre \xE9quipe est faible et ne se contente que de la moyenne ? \"},{\"team\":\"La team d'affranchissement\",\"comment\":\"La team affranchissement : 6 th\xE9matiques ! f\xE9licitations les tabous tombent ! il en reste encore ne vous reposez pas. Votre groupe d\u2019ami(e)s est-il capable de faire plus ?\"},{\"team\":\"La team pote \xE0 la compote\",\"comment\":\"Vous rayonnez ! de moins en moins de tabou entre vous, vous formez une jolie bande mais n'avez vous vraiment plus aucun malaise sur aucun sujet?\"},{\"team\":\"La Vrai team \",\"comment\":\"Mamaaamaaaaah ! on monte encore ! bien jou\xE9, les tabous n\u2019existent presque plus entre vous, continuez comme \xE7a !\"},{\"team\":\"La team frat\xE9 (fraternelle) \",\"comment\":\"Vraie vraie \xE9quipe ! Ne l\xE2chez pas vous allez bient\xF4t atteindre l\u2019apog\xE9e, l\u2019objectif de tout groupe d\u2019ami(e)s qui se respecte !\"},{\"team\":\"La Famille\",\"comment\":\"Vous arrivez en haut de l'\xE9chelle en bombe ! F\xE9licitation z\xE9ro g\xEAne, continuez ainsi ! pouvoir parler \xE0 voix haute de tant de choses c\u2019est tr\xE8s fort !\"}]")},"?0f89":()=>{},"?f22a":()=>{}},o={};e.m=a,(()=>{var t=[];e.O=(a,o,n,s)=>{if(o){s=s||0;for(var r=t.length;0<r&&t[r-1][2]>s;r--)t[r]=t[r-1];return void(t[r]=[o,n,s])}for(var i=Infinity,r=0;r<t.length;r++){for(var[o,n,s]=t[r],l=!0,c=0;c<o.length;c++)(!1&s||i>=s)&&Object.keys(e.O).every((t)=>e.O[t](o[c]))?o.splice(c--,1):(l=!1,s<i&&(i=s));l&&(t.splice(r--,1),a=n())}return a}})(),(()=>{e.n=(t)=>{var a=t&&t.__esModule?()=>t["default"]:()=>t;return e.d(a,{a:a}),a}})(),(()=>{e.d=(t,a)=>{for(var o in a)e.o(a,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})}})(),(()=>{e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{e.r=(e)=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var t={main:0};e.O.j=(e)=>0===t[e];var a=(a,o)=>{var n,s,[r,l,c]=o,u=0;for(n in l)e.o(l,n)&&(e.m[n]=l[n]);for(c&&c(e),a&&a(o);u<r.length;u++)s=r[u],e.o(t,s)&&t[s]&&t[s][0](),t[r[u]]=0;e.O()},o=self.webpackChunk=self.webpackChunk||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))})(),e.O(void 0,["node_vendors"],()=>e("./main.js"));var n=e.O(void 0,["node_vendors"],()=>e("./main.scss"));n=e.O(n)})();
//# sourceMappingURL=main.js.map