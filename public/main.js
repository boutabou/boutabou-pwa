(()=>{function e(t){var o=s[t];if(void 0!==o)return o.exports;var n=s[t]={exports:{}};return a[t].call(n.exports,n,n.exports,e),n.exports}var t=Math.round,o=Math.floor,a={"./main.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t);var r=o("./scripts/utils/PwaPopUp.js"),l=o("../node_modules/swup/lib/index.js"),i=o("./scripts/blocks/BlockManager.js"),u=o("./scripts/utils/Direction.js"),c=o("./scripts/utils/SplitContent.js"),d=o("./scripts/blobs/Blobs.js"),p=o("./scripts/utils/Sound.js"),f=function(){function e(){var t=this;a(this,e),this.os=navigator.userAgent&&/iPad|iPhone|iPod/.test(navigator.userAgent),document.addEventListener("swup:contentReplaced",function(){t.init(),t.socket&&document.querySelector(".js-login")&&(t.socket.off(),t.socket.disconnect(),t.socket=null),t.swup&&t.swup.cache.empty()}),document.addEventListener("swup:willReplaceContent",function(){t.socket||(t.socket=t.blocks.getSocket(),t.direction.updateSocket(t.socket),t.direction.init()),t.swup&&t.swup.cache.empty(),t.sound.destroy()}),this.initApp(),this.initServiceWorker()}return n(e,[{key:"initApp",value:function(){this.swup=new l.default,new c.default,new r.default,new d.default,this.sound=new p.default(this.socket),this.blocks=new i.default(this.socket,this.swup,this.os),this.direction=new u.default(this.socket,this.swup)}},{key:"init",value:function(){this.blocks=new i.default(this.socket,this.swup,this.os),new c.default,new d.default,this.sound=new p.default(this.socket)}},{key:"initServiceWorker",value:function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("./serviceWorker.js")}}]),e}();new f},"./scripts/blobs/Blobs.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>d});var r=o("../node_modules/paper/dist/paper-full.js"),l=o.n(r),i=o("../node_modules/perlin-noise-3d/dist/perlin-noise-3d.js"),u=o.n(i),c=o("./scripts/blobs/Pages.js"),d=function(){function e(){a(this,e),this.initEls(),this.initSound(),this.bindMethods(),this.initEvents(),this.initDraw()}return n(e,[{key:"initEls",value:function(){this.$els={},document.getElementById("blobs")&&(this.$els={canvas:document.getElementById("blobs"),pages:document.querySelector(".js-container-blobs"),popup:document.querySelector(".js-popup")},this.$els.canvas.width=document.body.clientWidth,this.$els.canvas.height=document.body.clientHeight),document.getElementById("blobs-popup")&&(this.$els.canvasPopup=document.getElementById("blobs-popup"),this.$els.canvasPopup.width=document.body.clientWidth,this.$els.canvasPopup.height=document.body.clientHeight),this.soundBlob=document.querySelector(".sound-blob"),this.shapes=[],this.noise=new(u())}},{key:"initSound",value:function(){this.soundBlob||(this.urlSoundBlob="./../../../assets/sounds/blob.mp3",this.soundBlob=document.createElement("audio"),this.soundBlob.classList.add("sound-blob"),this.soundBlob.src=this.urlSoundBlob,this.soundBlob.setAttribute("preload","auto"),this.soundBlob.setAttribute("controls","none"),this.soundBlob.style.display="none",document.body.appendChild(this.soundBlob))}},{key:"bindMethods",value:function(){this.addTurbulence=this.addTurbulence.bind(this)}},{key:"initEvents",value:function(){window.onclick=this.addTurbulence}},{key:"initDraw",value:function(){var e=[],t=[];if(this.$els.pages){r.setup(this.$els.canvas);var o=new c.default(this.$els.pages.dataset.pages);e=o.getShapes(),this.shapes.push(e),this.animation(e)}if(this.$els.canvasPopup){r.setup(this.$els.canvasPopup);var a=new c.default("popup");t=a.getShapes(),this.shapes.push(t),this.animation(t)}}},{key:"animation",value:function(e){var t=this.noise;r.view.onFrame=function(o){e.forEach(function(e,a){e.finalPath.segments.forEach(function(s,n){var r=Math.pow,l=Math.min,i=1;1<e.turbulence&&(e.turbulence-=.001),i=-2*e.turbulence*e.turbulence+6*e.turbulence-3,s.point.x=e.path.segments[n].point.x+30*(t.get(n+a,0,.003*o.count+i)-.5)*i*r(l(e.widthAsk,e.heightAsk),.5),s.point.y=e.path.segments[n].point.y+30*(t.get(0,n+a,.003*o.count+i)-.5)*i*r(l(e.widthAsk,e.heightAsk),.5)})})}}},{key:"addTurbulence",value:function(t){var e=this,o=0;[]===this.shapes||!this.shapes||t.delegateTarget||t.target.classList.contains("js-sound-dashboard")||((!this.$els.popup||this.$els.popup.classList.contains("active"))&&this.$els.popup?this.shapes[1]&&this.shapes[1].forEach(function(a){a.coorX<t.clientX+30&&a.coorX+a.width>t.clientX-30&&a.coorY<t.clientY+30&&a.coorY+a.height>t.clientY-30&1>=a.turbulence&&(a.turbulence=2,0==o&&(e.soundBlob.play(),o++))}):this.shapes[0]&&this.shapes[0].forEach(function(a){a.coorX<t.clientX+30&&a.coorX+a.width>t.clientX-30&&a.coorY<t.clientY+30&&a.coorY+a.height>t.clientY-30&1>=a.turbulence&&(a.turbulence=2,0==o&&(e.soundBlob.play(),o++))}))}}]),e}();new d},"./scripts/blobs/Pages.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>d});var r=o("./scripts/blobs/shapes/Circle.js"),l=o("./scripts/blobs/shapes/Eight.js"),i=o("./scripts/blobs/shapes/OutGrowth.js"),u=o("./scripts/blobs/shapes/Star.js"),c=o("./scripts/blobs/shapes/Rect.js"),d=function(){function e(t){a(this,e),this.vars(),this.initDraw(t)}return n(e,[{key:"vars",value:function(){this.shapes=[],this.textureRed="./../../../assets/images/blobs/texture-red.png",this.textureBlue="./../../../assets/images/blobs/texture-blue.png",this.textureWhite="./../../../assets/images/blobs/texture-white.png",this.texturePurple="./../../../assets/images/blobs/texture-purple.png"}},{key:"initDraw",value:function(e){"welcome"===e?this.drawWelcome():"popup"===e?this.drawPopUp():"room"===e?this.drawRoom():"theme"===e||"result-theme"===e?this.drawTheme():"game"===e?this.drawGame():"winner"===e?this.drawWinner():void 0}},{key:"drawWelcome",value:function(){this.shapes.push(new r.default(1,-.2,2,2,0,"#FE6A7A"),new r.default(1.2,0,1.2,1.2,0,"#5FE7EF"),new l.default(-3,-6.2,10,7.8,-5,"#FCC5DD"),new i.default(-1.5,.6,3,2.5,-20,"#FFE202"),new i.default(4.8,0,2.2,3,-20,"#FE6A7A",this.textureRed),new i.default(1.5,-1.8,2.5,2.4,0,"#FFFDDF",this.textureWhite),new r.default(.4,-.4,1,1,0,"#FE6A7A"),new r.default(3,-1.4,1,1,0,"#6500FF"),new r.default(.5,7.7,5,3.5,0,"#FE6A7A"),new l.default(-2,8,6,3,20,"#6500FF"),new l.default(3,8.4,5,3,80,"#5FE7EF"),new i.default(5.5,5.2,2.2,3.4,0,"#FFFDDF"),new r.default(-1.5,5.4,2,3,0,"#5FE7EF",this.textureBlue),new i.default(3,8.2,1.6,1.4,45,"#FFE202"),new i.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF")),new u.default(5,2.8,10,.7,.35,0,"#5FE7EF"),new u.default(.1,2,10,.3,.15,0,"#FE6A7A"),new u.default(3.9,1.1,10,.4,.2,0,"#6500FF"),new u.default(5,5,10,.2,.1,0,"#FFE202"),new u.default(1,4,10,.4,.2,0,"#FE6A7A"),new u.default(.3,6.2,10,.3,.15,0,"#6500FF"),new u.default(3.5,8.9,10,.3,.15,0,"#FE6A7A"),new u.default(2,9,10,.2,.1,0,"#FFE202"),new u.default(1.6,8.1,10,.4,.2,0,"#5FE7EF")}},{key:"drawPopUp",value:function(){this.shapes.push(new r.default(1,.8,2,2,0,"#FE6A7A"),new r.default(1.2,1,1.2,1.2,0,"#5FE7EF"),new l.default(-3,-5.2,10,7.8,-5,"#FCC5DD"),new i.default(-1.5,1.6,3,2.5,-20,"#FFE202"),new i.default(4.8,1,2.2,2,-200,"#FE6A7A",this.textureRed),new i.default(1.5,-1,2.2,2.4,0,"#FFFDDF",this.textureWhite),new r.default(.4,.6,.8,.8,0,"#FE6A7A"),new r.default(3,-.4,1,1,0,"#6500FF"),new r.default(1,7.5,4,3.5,0,"#FE6A7A"),new l.default(-2,8,6,3,20,"#6500FF",this.texturePurple),new l.default(3,8,5,3,80,"#5FE7EF"),new i.default(4.6,5.2,2.2,3.4,0,"#FFFDDF"),new r.default(-1,5.4,2,3,0,"#5FE7EF",this.textureBlue),new i.default(3,8.2,1.6,1.4,45,"#FFE202"),new i.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF"),new r.default(2.6,8.5,.9,.9,0,"#FCC5DD")),new u.default(4.6,2.6,10,.7,.35,0,"#FFE202"),new u.default(.1,2.6,10,.4,.2,0,"#FE6A7A"),new u.default(2.1,2.1,10,.2,.1,0,"#6500FF"),new u.default(5.5,6.5,10,.4,.2,0,"#5FE7EF"),new u.default(.5,5.5,10,.3,.15,0,"#6500FF"),new u.default(3.5,8.9,10,.3,.15,0,"#FE6A7A"),new u.default(2,9,10,.2,.1,0,"#FFE202"),new u.default(1.8,7.9,10,.5,.25,0,"#5FE7EF")}},{key:"drawRoom",value:function(){this.shapes.push(new r.default(-1,6,10,10,0,"#FCC5DD"),new r.default(1,7.5,4,3.5,0,"#FE6A7A"),new i.default(0,7.5,2,2,30,"#FFE202"),new l.default(-2,8,6,3,20,"#6500FF",this.texturePurple),new l.default(3,8,5,3,80,"#5FE7EF"),new i.default(4.6,5.2,2.2,3.4,0,"#FFFDDF",this.textureWhite),new r.default(-1,5.4,2,3,0,"#5FE7EF",this.textureBlue),new i.default(3,8.2,1.6,1.4,45,"#FFE202"),new i.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF")),new u.default(4.2,8,10,.2,.1,0,"#6500FF"),new u.default(2.5,10,10,.3,.15,0,"#FCC5DD"),new u.default(1.6,7.6,10,.5,.25,0,"#5FE7EF"),new c.default(0,7.5,6,4)}},{key:"drawTheme",value:function(){this.shapes.push(new l.default(4.8,.5,3.4,2.5,-60,"#6500FF"),new l.default(-2,1.9,4,2,-60,"#FE6A7A"),new i.default(-.5,2,1.5,1.5,-10,"#5FE7EF",this.textureBlue),new r.default(-.2,1,.8,.8,0,"#6500FF"),new r.default(1,.2,.4,.4,0,"#FE6A7A"),new r.default(5.6,2,.6,.6,0,"#FCC5DD"),new i.default(-.8,5.4,2,2,-80,"#6500FF",this.texturePurple),new l.default(-1,6.8,4.5,1.2,10,"#FCC5DD"),new i.default(-.2,6.4,1,1,10,"#FFE202"),new r.default(1.4,6.8,.4,.4,0,"#5FE7EF"),new i.default(4.8,5.8,3.2,2.5,100,"#5FE7EF"),new r.default(5.8,6.4,.4,.4,0,"#FFE202"),new r.default(5.4,6.8,1,1,0,"#FFFDDF"),new r.default(5.6,9,.5,.5,0,"#FE6A7A")),new u.default(.6,.5,10,.2,.1,0,"#FFE202"),new u.default(1.4,.6,4,.18,.04,0,"#5FE7EF"),new u.default(5,1,10,.3,.15,0,"#5FE7EF"),new u.default(1.4,2.1,10,.2,.1,0,"#FFFDDF"),new u.default(5.6,3,10,.4,.2,0,"#FFE202"),new u.default(.5,5.8,10,.3,.15,0,"#FFFDDF"),new u.default(1.4,6.8,4,.18,.04,0,"#FFFDDF"),new u.default(5.5,6,10,.2,.1,0,"#FE6A7A"),new u.default(1,8.8,10,.1,.05,0,"#FFE202"),new u.default(.5,9.5,10,.3,.15,0,"#5FE7EF"),new u.default(5,9,4,.2,.05,0,"#FFFDDF")}},{key:"drawGame",value:function(){this.shapes.push(new r.default(-1,3,7,7,0,"#FCC5DD"),new i.default(3.4,5.4,1.2,1,-45,"#5FE7EF"),new r.default(-1,3,4,5,0,"#5FE7EF"),new r.default(-1,6,4,5,0,"#FE6A7A"),new i.default(-1,4.3,2,2,0,"#FFE202"),new l.default(-1,3.3,3,2,0,"#FFFDDF",this.textureWhite),new r.default(3,3,2,2,-100,"#FFE202"),new l.default(4,3.3,3,2,80,"#6500FF",this.texturePurple),new r.default(3.4,3.6,1.2,1,0,"#5FE7EF"),new r.default(-1,6,10,10,0,"#6500FF"),new r.default(1,7.5,4,3.5,0,"#FE6A7A"),new i.default(0,7.5,2,2,30,"#FFE202"),new l.default(-2,8,6,3,20,"#6500FF",this.texturePurple),new l.default(3,8,5,3,80,"#5FE7EF"),new i.default(4.6,5.2,2.2,3.4,0,"#FFFDDF",this.textureWhite),new r.default(-1,5.4,2,3,0,"#5FE7EF",this.textureBlue),new i.default(3,8.2,1.6,1.4,45,"#FFE202"),new i.default(-1,9,1.6,1.4,0,"#FFE202"),new r.default(1,9,.7,.7,0,"#5FE7EF")),new u.default(4.8,6,10,.5,.25,0,"#FE6A7A"),new u.default(1.4,5.2,10,.5,.25,0,"#6500FF"),new u.default(2.2,5.6,10,.2,.1,0,"#FCC5DD"),new u.default(4.2,8,10,.2,.1,0,"#6500FF"),new u.default(2.5,10,10,.3,.15,0,"#FCC5DD"),new u.default(1.6,7.6,10,.5,.25,0,"#5FE7EF"),new c.default(0,4,6,7)}},{key:"drawWinner",value:function(){this.shapes.push(new l.default(4.8,2,3.4,2.5,-60,"#6500FF"),new l.default(-2,2.9,4,2,-60,"#FE6A7A"),new i.default(-.5,3,1.5,1.5,-10,"#5FE7EF",this.textureBlue),new r.default(-.2,1.5,.8,.8,0,"#6500FF"),new r.default(1,.2,.4,.4,0,"#FE6A7A"),new r.default(5.6,3,.6,.6,0,"#FCC5DD"),new i.default(5.2,3.6,3.2,2.5,100,"#5FE7EF"),new r.default(5.8,4.4,.4,.4,0,"#FFE202"),new r.default(5.7,4.6,1,1,0,"#FFFDDF"),new r.default(5.6,9,.5,.5,0,"#FE6A7A")),new u.default(.6,.5,10,.2,.1,0,"#FFE202"),new u.default(1.4,.6,4,.18,.04,0,"#5FE7EF"),new u.default(5,1,10,.3,.15,0,"#5FE7EF"),new u.default(1,3.4,10,.2,.1,0,"#FFFDDF"),new u.default(5.6,3,10,.4,.2,0,"#FFE202"),new u.default(.5,5.8,10,.3,.15,0,"#FFFDDF"),new u.default(5.6,5.6,10,.2,.1,0,"#FE6A7A"),new u.default(1,8.8,10,.1,.05,0,"#FFE202"),new u.default(.5,9.5,10,.3,.15,0,"#5FE7EF"),new u.default(5,9,4,.2,.05,0,"#FFFDDF")}},{key:"getShapes",value:function(){return this.shapes}}]),e}()},"./scripts/blobs/shapes/Circle.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>h});var y=o("./scripts/blobs/shapes/Shape.js"),b=o("../node_modules/paper/dist/paper-full.js"),m=o.n(b),h=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"drawShape",value:function(e,t,o){e.add(new b.Point(0*t,.5*o)),e.add(new b.Point(.5*t,0*o)),e.add(new b.Point(1*t,.5*o)),e.add(new b.Point(.5*t,1*o))}}]),t}(y.default)},"./scripts/blobs/shapes/Eight.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>h});var y=o("./scripts/blobs/shapes/Shape.js"),b=o("../node_modules/paper/dist/paper-full.js"),m=o.n(b),h=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"drawShape",value:function(e,t,o){e.add(new b.Point(0*t,.5*o)),e.add(new b.Point(.25*t,0*o)),e.add(new b.Point(.5*t,.2*o)),e.add(new b.Point(.75*t,0*o)),e.add(new b.Point(1*t,.5*o)),e.add(new b.Point(.75*t,1*o)),e.add(new b.Point(.5*t,.8*o)),e.add(new b.Point(.25*t,1*o))}}]),t}(y.default)},"./scripts/blobs/shapes/OutGrowth.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>h});var y=o("./scripts/blobs/shapes/Shape.js"),b=o("../node_modules/paper/dist/paper-full.js"),m=o.n(b),h=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"drawShape",value:function(e,t,o){e.add(new b.Point(0*t,.5*o)),e.add(new b.Point(.3*t,.1*o)),e.add(new b.Point(1*t,0*o)),e.add(new b.Point(.8*t,.5*o)),e.add(new b.Point(.9*t,.8*o)),e.add(new b.Point(.4*t,1*o))}}]),t}(y.default)},"./scripts/blobs/shapes/Rect.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>i});var r=o("../node_modules/paper/dist/paper-full.js"),l=o.n(r),i=function(){function e(t,o,s,n){a(this,e),this.vars(t,o,s,n),this.drawRect()}return n(e,[{key:"vars",value:function(e,t,o,a){this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,this.coorX=e*this.windowWidth/6,this.coorY=t*this.windowHeight/10,this.width=o*this.windowWidth/6,this.height=a*this.windowWidth/6}},{key:"drawRect",value:function(){var e=new r.Rectangle(new r.Point(this.coorX,this.coorY),new r.Point(this.coorX+this.width,this.coorY+this.height)),t=new r.Size(20,20),o=new r.Path.Rectangle(e,t);o.clipMask=!0}}]),e}()},"./scripts/blobs/shapes/Shape.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>c});var r=o("../node_modules/paper/dist/paper-full.js"),l=o.n(r),i=o("../node_modules/perlin-noise-3d/dist/perlin-noise-3d.js"),u=o.n(i),c=function(){function e(t,o,s,n,r,l,i){a(this,e),this.vars(t,o,s,n,r,l,i),this.drawShape(this.path,this.width,this.height),this.path.closed=!0,this.path.smooth(),this.path.rotate(this.rotate),this.path.fillColor=this.color,this.addNoise()}return n(e,[{key:"vars",value:function(e,t,o,a,s,n,l){this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,this.coorX=e*this.windowWidth/6,this.coorY=t*this.windowHeight/10,this.width=o*this.windowWidth/6,this.height=a*this.windowHeight/10,this.widthAsk=o,this.heightAsk=a,this.rotate=s,this.color=n,this.texture=l,this.path=new r.Path,this.finalPath,this.turbulence=1,this.noise=new(u())}},{key:"drawShape",value:function(){}},{key:"addNoise",value:function(){var e=this;if(this.path.segments.forEach(function(t){t.point.x=t.point.x+e.coorX+(Math.random()-.5)*e.widthAsk,t.point.y=t.point.y+e.coorY+(Math.random()-.5)*e.heightAsk}),this.finalPath=this.path.clone(),this.finalPath.fillColor=this.color,this.texture){var t=new r.Raster(this.texture);t.position=new r.Point(this.coorX+t.width/2-50,this.coorY+t.height/2-50),t.scale(Math.max((this.width+100)/t.width,(this.height+100)/t.height)),new r.Group([t,this.finalPath]),this.finalPath.clipMask=!0}this.path.visible=!1,this.finalPath.visible=!0}}]),e}()},"./scripts/blobs/shapes/Star.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>i});var r=o("../node_modules/paper/dist/paper-full.js"),l=o.n(r),i=function(){function e(t,o,s,n,r,l,i,u){a(this,e),this.vars(t,o,s,n,r,l,i,u),this.drawStar()}return n(e,[{key:"vars",value:function(e,t,o,a,s,n,r,l){this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,this.centerX=e*this.windowWidth/6,this.centerY=t*this.windowHeight/10,this.radius1=a*this.windowWidth/6,this.radius2=s*this.windowWidth/6,this.points=o,this.rotate=n,this.color=r,this.texture=l}},{key:"drawStar",value:function(){var e=new r.Path.Star({x:this.centerX,y:this.centerY},this.points,this.radius1,this.radius2);e.fillColor=this.color,e.rotate(this.rotate)}}]),e}()},"./scripts/blocks/Block.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>r});var r=function(){function e(t,o,s,n){var r=this;if(a(this,e),document.querySelector(t)){if(this.socket=o,this.swup=s,this.os=n,this.el=t.replace(".js-",""),this.socket)this.socket.emit("load:"+this.el,this.socket.id);else if("login"!==this.el)return void this.swup.loadPage({url:"/views/pages/login.ejs",method:"GET"});this.vars(),this.bindMethods(),this.initEls(),this.initEvents(),document.addEventListener("swup:willReplaceContent",function(){r.destroy()})}}return n(e,[{key:"vars",value:function(){}},{key:"bindMethods",value:function(){}},{key:"initEls",value:function(){}},{key:"initEvents",value:function(){}},{key:"destroy",value:function(){}}]),e}()},"./scripts/blocks/BlockManager.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>y});var r=o("./scripts/blocks/Login.js"),l=o("./scripts/blocks/ScanQrCode.js"),i=o("./scripts/blocks/Room.js"),u=o("./scripts/blocks/Theme.js"),c=o("./scripts/blocks/Dashboard.js"),d=o("./scripts/blocks/ResultTheme.js"),p=o("./scripts/blocks/Defeat.js"),f=o("./scripts/blocks/Winner.js"),y=function(){function e(t,o,s){var n=this;a(this,e),this.login=new r.default(".js-login",t,o),new l.default(".js-scan",t,o,s),new i.default(".js-room",t,o),new u.default(".js-theme",t,o),new c.default(".js-dashboard",t,o),new d.default(".js-result-theme",t,o),new p.default(".js-defeat",t,o),new f.default(".js-winner",t,o),this.socket=t,this.bindMethods(),this.initEls(),this.initEvents(),document.addEventListener("swup:contentReplaced",function(){n.destroy()})}return n(e,[{key:"bindMethods",value:function(){this.initSocket=this.initSocket.bind(this)}},{key:"initEls",value:function(){this.loginButton=document.querySelector(".js-login-button")}},{key:"initEvents",value:function(){this.loginButton&&this.loginButton.addEventListener("click",this.initSocket)}},{key:"initSocket",value:function(){this.socket=this.login.getSocket()}},{key:"getSocket",value:function(){return this.socket}},{key:"destroy",value:function(){this.loginButton&&this.loginButton.removeEventListener("click",this.initSocket)}}]),e}()},"./scripts/blocks/Dashboard.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>E});var y=o("./scripts/blocks/Block.js"),b=o("./scripts/blocks/interactions/Bool.js"),m=o("./scripts/blocks/interactions/List.js"),h=o("./scripts/blocks/interactions/Cursor.js"),v=o("./scripts/blocks/interactions/Rotate.js"),k=o("../node_modules/gsap/index.js"),g=o("../node_modules/gsap/DrawSVGPlugin.js"),F=o("../node_modules/gsap/MorphSVGPlugin.js");k.gsap.registerPlugin(g.DrawSVGPlugin),k.gsap.registerPlugin(F.MorphSVGPlugin);var E=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"vars",value:function(){this.urlSoundTimer="./../../../assets/sounds/timer.wav",this.soundTimer=document.createElement("audio"),this.soundTimer.src=this.urlSoundTimer,this.soundTimer.setAttribute("preload","auto"),this.soundTimer.setAttribute("controls","none"),this.soundTimer.style.display="none",document.body.appendChild(this.soundTimer)}},{key:"initEls",value:function(){this.$els={grid:document.querySelector(".js-grid-container"),task:document.querySelector(".js-task"),scoreCursor:document.querySelector(".js-score-cursor"),scoreEnd:document.querySelector(".js-score-end"),timer:document.querySelector(".js-timer"),level:document.querySelector(".js-level"),oneStep:document.getElementById("one"),timerStart:document.querySelector(".js-timer-start"),instructions:document.querySelector(".js-instructions"),scoreContainer:document.querySelector(".js-score-container"),taskContainer:document.querySelector(".js-task-container")},this.cptCursors=0,this.tl,this.score=5,this.scoreFront=5,this.scoreOnAnim=!1,this.colors=["#ff7384","#fe8396","#fe94a8","#fda4b9","#fdb5cb","#fcc5dd","#dccce1","#bcd3e5","#9cdbe9","#7ce2ed","#5ce9f1"]}},{key:"bindMethods",value:function(){this.displayDashboard=this.displayDashboard.bind(this),this.displayTask=this.displayTask.bind(this),this.displayLevel=this.displayLevel.bind(this),this.displayScore=this.displayScore.bind(this),this.killTimer=this.killTimer.bind(this),this.vibrate=this.vibrate.bind(this),this.timer=this.timer.bind(this),this.configTimeline=this.configTimeline.bind(this)}},{key:"initEvents",value:function(){window.history.pushState({},""),this.socket.on("dashboard:display",this.displayDashboard),this.socket.on("dashboard:display-task",this.displayTask),this.socket.on("dashboard:update-score",this.displayScore),this.socket.on("dashboard:kill-timer",this.killTimer),this.socket.on("dashboard:vibrate",this.vibrate),this.socket.on("dashboard:on-timer",this.timer),this.socket.on("dashboard:display-level",this.displayLevel)}},{key:"displayLevel",value:function(e){this.$els.level.innerHTML="Niveau "+e}},{key:"timer",value:function(){var e=this;this.soundTimer.play(),this.$els.timerStart.innerHTML=3,setTimeout(function(){e.$els.timerStart.innerHTML=2},1e3),setTimeout(function(){e.$els.timerStart.innerHTML=1},2e3),setTimeout(function(){e.$els.timerStart.innerHTML=0},3e3),setTimeout(function(){e.startGame()},4e3)}},{key:"startGame",value:function(){this.$els.grid.classList.remove("grid-container--disable"),this.$els.scoreContainer.classList.remove("score--disable"),this.$els.timerStart.classList.add("timer-start--disable"),this.$els.instructions.classList.add("instructions--disable"),this.socket.emit("dashboard:start")}},{key:"displayDashboard",value:function(e){var t=this;e.dashboard.forEach(function(e){switch(e.type){case"bool":new b.default(e.data.title,t.$els.grid,e.position,null,t.socket);break;case"simple-list":case"complex-list":new m.default(e.data.title,t.$els.grid,e.position,e.data.param,t.socket);break;case"simple-cursor":case"complex-cursor":t.cptCursors++,new h.default(e.data.title,t.$els.grid,e.position,e.data.param,t.socket,e.orientation,t.cptCursors,e.type);break;case"rotate":new v.default(e.data.title,t.$els.grid,e.position,e.data.param,t.socket);}})}},{key:"displayTask",value:function(e,t){this.$els.task.innerHTML=e,this.resetTimer(t)}},{key:"resetTimer",value:function(e){var t=this.$els.timer,o=this.$els.taskContainer;this.tl=k.gsap.timeline({repeat:0}),this.tl.to(o,{backgroundColor:"#6500FF",duration:.2,ease:"power.inOut"}).from(t,{drawSVG:"0% 0%",duration:e/1e3},"-=0.2").to(o,{backgroundColor:"#FE6A7A",duration:3,ease:"power.inOut"},"-=".concat(e/1800))}},{key:"configTimeline",value:function(){this.scoreUpgrade?this.scoreFront++:this.scoreFront--,this.score!==this.scoreFront&&this.animScore(),this.scoreOnAnim=!1}},{key:"displayScore",value:function(e){this.score=e,this.scoreOnAnim||this.score===this.scoreFront||this.animScore()}},{key:"animScore",value:function(){this.scoreOnAnim=!0,this.scoreUpgrade=!0,this.score<this.scoreFront&&(this.scoreUpgrade=!1),F.MorphSVGPlugin.convertToPath("circle, polygon, ellipse");var e=this,t=k.gsap.timeline({onComplete:e.configTimeline}),o=-1,a=180;this.scoreUpgrade&&(o=1,a=0),this.currentColor=this.colors[this.scoreFront],this.nextColor=this.colors[this.scoreFront+o],t.set(this.$els.oneStep,{rotate:a,transformOrigin:"50% 50%"}).to(this.$els.oneStep,{fill:this.currentColor,duration:.2,morphSVG:"#one"}).to(this.$els.oneStep,{fill:this.currentColor,duration:.2,morphSVG:"#two"}).to(this.$els.oneStep,{fill:this.currentColor,duration:.2,morphSVG:"#five"}).to(this.$els.oneStep,{fill:this.nextColor,duration:.2,morphSVG:"#seven"}).to(this.$els.oneStep,{fill:this.nextColor,duration:.2,morphSVG:"#nine"}).to(this.$els.scoreCursor,{x:29.5*(this.scoreFront+o-6),duration:1,ease:"power4.inOut"},"-=1")}},{key:"vibrate",value:function(){window.navigator.vibrate(30)}},{key:"killTimer",value:function(){this.$els.timer.style.strokeDashoffset=0,this.tl&&this.tl.kill()}},{key:"destroy",value:function(){this.socket.removeListener("dashboard:display"),this.socket.removeListener("dashboard:display-task"),this.socket.removeListener("dashboard:update-score"),this.socket.removeListener("dashboard:kill-timer"),this.socket.removeListener("dashboard:vibrate"),this.socket.removeListener("dashboard:on-timer"),this.$els.timer.style.strokeDashoffset=0,this.tl&&this.tl.kill()}}]),t}(y.default)},"./scripts/blocks/Defeat.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>m});var y=o("./scripts/blocks/Block.js"),b=o("../server/data/levels.json"),m=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"initEls",value:function(){this.$els={team:document.querySelector(".js-defeat__team"),comment:document.querySelector(".js-defeat__comment")}}},{key:"bindMethods",value:function(){this.displayDefeat=this.displayDefeat.bind(this)}},{key:"initEvents",value:function(){var e=this;window.history.pushState({},""),this.socket.on("defeat:loose",this.displayDefeat),setTimeout(function(){e.socket.off(),e.socket.disconnect()},100)}},{key:"displayDefeat",value:function(e){this.$els.team.innerHTML=b[e].team,this.$els.comment.innerHTML=b[e].comment}}]),t}(y.default)},"./scripts/blocks/Login.js":(e,t,a)=>{"use strict";function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function l(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=f();return function(){var o,a=y(e);if(t){var s=y(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return d(this,o)}}function d(e,t){return t&&("object"===s(t)||"function"==typeof t)?t:p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}a.r(t),a.d(t,{default:()=>h});var b=a("./scripts/blocks/Block.js"),m=a("../node_modules/socket.io-client/wrapper.mjs"),h=function(e){function t(){return n(this,t),s.apply(this,arguments)}i(t,e);var s=c(t);return l(t,[{key:"initEls",value:function(){this.$els={loginButton:document.querySelector(".js-login-button"),username:document.querySelector(".js-username"),avatar:document.querySelector(".js-avatar")},this.currentName="",this.$els.loginButton.classList.add("inactive"),this.avatars=a("../server/data/avatars.json"),this.addAvatar()}},{key:"bindMethods",value:function(){this.createProfile=this.createProfile.bind(this),this.checkKeyPressed=this.checkKeyPressed.bind(this),this.enableButtonLogin=this.enableButtonLogin.bind(this),this.addAvatar=this.addAvatar.bind(this)}},{key:"initEvents",value:function(){this.$els.loginButton.addEventListener("click",this.createProfile),this.$els.avatar.addEventListener("click",this.addAvatar),this.$els.username.addEventListener("keypress",this.checkKeyPressed),this.$els.username.addEventListener("keydown",this.enableButtonLogin)}},{key:"addAvatar",value:function(){this.img&&this.$els.avatar.removeChild(this.img),this.avatar=this.avatars[o(Math.random()*this.avatars.length)],this.img=document.createElement("img"),this.img.src=this.avatar.src,this.$els.avatar.appendChild(this.img)}},{key:"checkKeyPressed",value:function(t){(13===t.keyCode||"Enter"===t.key)&&this.$els.username.value&&(t.preventDefault(),this.$els.loginButton.click()),this.enableButtonLogin()}},{key:"enableButtonLogin",value:function(){var e=this;setTimeout(function(){""==e.$els.username.value?e.$els.loginButton.classList.add("inactive"):e.$els.loginButton.classList.remove("inactive")},10)}},{key:"createProfile",value:function(){this.$els.username.value&&(this.socketNew=(0,m.io)(),this.currentName=this.$els.username.value,this.socketNew.emit("room:user-login",this.currentName,this.avatar))}},{key:"getSocket",value:function(){return this.socketNew}},{key:"destroy",value:function(){this.$els.loginButton.removeEventListener("click",this.createProfile),this.$els.avatar.removeEventListener("click",this.addAvatar),this.$els.username.removeEventListener("keypress",this.checkKeyPressed)}}]),t}(b.default)},"./scripts/blocks/ResultTheme.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>b});var y=o("./scripts/blocks/Block.js"),b=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"initEls",value:function(){this.$els={popup:document.querySelector(".js-popup"),popupTitle:document.querySelector(".js-popup-title")}}},{key:"bindMethods",value:function(){this.waitScan=this.waitScan.bind(this),this.endScan=this.endScan.bind(this)}},{key:"initEvents",value:function(){window.history.pushState({},""),this.socket.on("popup-wait-scan",this.waitScan),this.socket.on("remove-popup-wait-scan",this.endScan)}},{key:"waitScan",value:function(){this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="Un joueur est en train de choisir le prochain th\xE9me"}},{key:"endScan",value:function(){this.$els.popup.classList.remove("active"),this.$els.popupTitle.innerHTML=""}},{key:"destroy",value:function(){this.socket.off("popup-wait-scan",this.waitScan),this.socket.off("remove-popup-wait-scan",this.endScan)}}]),t}(y.default)},"./scripts/blocks/Room.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>b});var y=o("./scripts/blocks/Block.js"),b=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"initEls",value:function(){this.$els={listUsers:document.querySelector(".js-list-users"),popup:document.querySelector(".js-popup"),popupTitle:document.querySelector(".js-popup-title")}}},{key:"bindMethods",value:function(){this.displayUsers=this.displayUsers.bind(this),this.waitRoom=this.waitRoom.bind(this),this.waitScan=this.waitScan.bind(this),this.endScan=this.endScan.bind(this)}},{key:"initEvents",value:function(){this.socket.on("room:display-users",this.displayUsers),this.socket.on("room:popup-wait-room",this.waitRoom),this.socket.on("popup-wait-scan",this.waitScan),this.socket.on("remove-popup-wait-scan",this.endScan)}},{key:"waitRoom",value:function(){this.socket.off(),this.socket.disconnect(),this.socket=null,this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="D\xE9sol\xE9e, une partie est d\xE9j\xE0 en cour"}},{key:"waitScan",value:function(){this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="Un joueur est en train de choisir le th\xE9me"}},{key:"endScan",value:function(){this.$els.popup.classList.remove("active"),this.$els.popupTitle.innerHTML=""}},{key:"displayUsers",value:function(e){var t=this;this.$els.listUsers.innerHTML="",e.forEach(function(e){var o=document.createElement("div"),a=document.createElement("p"),s=document.createElement("img");o.setAttribute("id","user-"+e.id),a.innerHTML=e.name,s.src=e.avatar,t.$els.listUsers.appendChild(o),o.appendChild(a),o.appendChild(s)})}},{key:"destroy",value:function(){this.socket.off("room:display-users",this.displayUsers),this.socket.off("room:popup-wait-room",this.waitRoom),this.socket.off("popup-wait-scan",this.waitScan),this.socket.off("remove-popup-wait-scan",this.endScan)}}]),t}(y.default)},"./scripts/blocks/ScanQrCode.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>b});var y=o("./scripts/blocks/Block.js"),b=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"vars",value:function(){var e=this;this.os||(this.qrCodeSuccessCallback=function(t){e.socket.emit("scan:theme-choice",t),e.html5QrCode.clear()},this.config={fps:10,qrbox:250},"undefined"!=typeof Html5Qrcode&&(this.html5QrCode=new Html5Qrcode("qr-reader")))}},{key:"initEls",value:function(){this.$els={idButton:document.querySelector(".js-id-button"),id:document.querySelector(".js-id"),replacementContent:document.querySelector(".js-ios-content")},this.currentId}},{key:"bindMethods",value:function(){this.getId=this.getId.bind(this),this.checkKeyPressed=this.checkKeyPressed.bind(this),this.displayReplacementContent=this.displayReplacementContent.bind(this)}},{key:"initEvents",value:function(){this.os?this.displayReplacementContent():this.startScan(),this.$els.idButton.addEventListener("click",this.getId),this.$els.id.addEventListener("keypress",this.checkKeyPressed)}},{key:"checkKeyPressed",value:function(t){(13===t.keyCode||"Enter"===t.key)&&this.$els.id.value&&(t.preventDefault(),this.$els.idButton.click())}},{key:"getId",value:function(){this.$els.id.value&&0<=this.$els.id.value&&2>=this.$els.id.value?(this.currentId=this.$els.id.value,this.socket.emit("scan:theme-choice",this.currentId)):alert("Entrez un id correct")}},{key:"startScan",value:function(){this.html5QrCode&&this.html5QrCode.start({facingMode:"environment"},this.config,this.qrCodeSuccessCallback,function(e){console.log("error from scan ",e)})["catch"](function(e){console.log("error from scan start : ",e)})}},{key:"displayReplacementContent",value:function(){this.$els.replacementContent.innerHTML="Le scan de QRCode n'est pas compatible avec votre appareil."}},{key:"destroy",value:function(){this.html5QrCode&&this.html5QrCode.stop().then(function(){console.log("scan stop")})["catch"](function(e){console.log("scan stop faild ",e)}),this.$els.idButton.removeEventListener("click",this.getId),this.$els.id.removeEventListener("keypress",this.checkKeyPressed)}}]),t}(y.default)},"./scripts/blocks/Theme.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>b});var y=o("./scripts/blocks/Block.js"),b=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"initEls",value:function(){this.$els={playButton:document.querySelector(".js-play-button")}}},{key:"bindMethods",value:function(){this.startGame=this.startGame.bind(this)}},{key:"initEvents",value:function(){window.history.pushState({},""),this.$els.playButton.addEventListener("click",this.startGame)}},{key:"startGame",value:function(){this.socket.emit("theme:start",this.socket.id)}},{key:"destroy",value:function(){this.$els.playButton.removeEventListener("click",this.startGame)}}]),t}(y.default)},"./scripts/blocks/Winner.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>b});var y=o("./scripts/blocks/Block.js"),b=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"initEls",value:function(){this.$els={avatar:document.querySelector(".js-winner-avatar"),winner:document.querySelector(".js-theme-winner"),challenge:document.querySelector(".js-theme-challenge"),popup:document.querySelector(".js-popup"),popupTitle:document.querySelector(".js-popup-title")}}},{key:"bindMethods",value:function(){this.displayWinner=this.displayWinner.bind(this),this.waitScan=this.waitScan.bind(this),this.endScan=this.endScan.bind(this)}},{key:"initEvents",value:function(){this.socket.on("winner:display-winner",this.displayWinner),this.socket.on("popup-wait-scan",this.waitScan),this.socket.on("remove-popup-wait-scan",this.endScan)}},{key:"displayWinner",value:function(e,t){this.$els.avatar.setAttribute("src",t.avatar),this.$els.winner.innerHTML=e.winner.replace("{winner}",t.name),this.$els.challenge.innerHTML=e.challenge}},{key:"waitScan",value:function(){this.$els.popup.classList.add("active"),this.$els.popupTitle.innerHTML="Un joueur est en train de choisir le prochain th\xE9me"}},{key:"endScan",value:function(){this.$els.popup.classList.remove("active"),this.$els.popupTitle.innerHTML=""}},{key:"destroy",value:function(){this.socket.off("winner:display-winner",this.displayWinner),this.socket.off("popup-wait-scan",this.waitScan),this.socket.off("remove-popup-wait-scan",this.endScan)}}]),t}(y.default)},"./scripts/blocks/interactions/Bool.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>b});var y=o("./scripts/blocks/interactions/Interaction.js"),b=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("bool")}},{key:"bindMethods",value:function(){this.toogleBool=this.toogleBool.bind(this)}},{key:"displayInteraction",value:function(e){var t=document.createElement("span");t.classList.add("grid-container__btn"),t.classList.add("js-sound-dashboard"),t.innerHTML="ON",e.appendChild(t),t.addEventListener("click",this.toogleBool),this.interactions.push(t)}},{key:"toogleBool",value:function(t){"ON"===t.currentTarget.innerHTML?(t.currentTarget.innerHTML="OFF",this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:"on"},this.socket.id)):(t.currentTarget.innerHTML="ON",this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:"off"},this.socket.id))}},{key:"destroy",value:function(){var e=this;this.interactions.forEach(function(t){t.removeEventListener("click",e.toogleBool)})}}]),t}(y.default)},"./scripts/blocks/interactions/Cursor.js":(e,a,s)=>{"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function i(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=y();return function(){var o,a=b(e);if(t){var s=b(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return p(this,o)}}function p(e,t){return t&&("object"===n(t)||"function"==typeof t)?t:f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}s.r(a),s.d(a,{default:()=>h});var m=s("./scripts/blocks/interactions/Interaction.js"),h=function(e){function a(){return r(this,a),s.apply(this,arguments)}u(a,e);var s=d(a);return i(a,[{key:"vars",value:function(){this.audios=document.querySelectorAll(".sound-dashboard")}},{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("cursor-"+this.index),this.containerInteraction.classList.add(this.type)}},{key:"displayCursor",value:function(e,t,o,a){var s=this,n=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),u=[];n.classList.add("container-cursor-"+a,"container-cursor","container-cursor__"+t,"container-cursor__"+t+"-"+o.length),r.classList.add("cursor","cursor-"+t),r.setAttribute("id","cursor-"+a),l.classList.add("progress-bar","progress-"+t,"js-progress-"+a),i.classList.add("steps","steps-"+t),e.appendChild(n),n.appendChild(r),n.appendChild(l),n.appendChild(i),o.forEach(function(e,t){var o=document.createElement("div");o.classList.add("step-"+t),o.innerHTML=e,u.push(o),i.appendChild(o),s.interactions.push(e)});var c=document.getElementById("cursor-"+a);gsap.registerPlugin(Draggable),"vertical"===t?(u.forEach(function(e){e.style.height="calc( 100% /"+u.length+")"}),this.displayVerticalCursor(c,u,a)):"horizontal"===t?(u.forEach(function(e){e.style.width="calc( 100% /"+u.length+")"}),this.displayHorizontalCursor(c,u,a)):void 0}},{key:"displayVerticalCursor",value:function(e,a,s){var n=this,r=0,l=document.querySelector(".js-progress-"+s);Draggable.create(e,{type:"y",bounds:".container-cursor-"+s,onDrag:function(){gsap.set(e,{y:this.y})},onThrowUpdate:function(){gsap.set(e,{y:this.y})},liveSnap:!0,snap:function(e){return l.style.backgroundColor="#040f33",r=t(e/this.maxY*(a.length-1)),0===r?0:r===a.length-1?this.maxY:r*a[0].offsetHeight-14+12.5},onDragEnd:function(t){n.onDragEnd(t,r),l.style.backgroundColor="#6500FF";var e=n.audios[o(Math.random()*n.audios.length)];e.play()}})}},{key:"displayHorizontalCursor",value:function(e,a,s){var n=this,r=0,l=document.querySelector(".js-progress-"+s);Draggable.create(e,{type:"x",bounds:".container-cursor-"+s,onDrag:function(){gsap.set(e,{x:this.x})},onThrowUpdate:function(){gsap.set(e,{x:0})},liveSnap:!0,snap:function(e){return l.style.backgroundColor="#040f33",r=t(e/this.maxX*(a.length-1)),0===r?0:r===a.length-1?this.maxX:r*a[0].offsetWidth-14+12.5},onDragEnd:function(t){n.onDragEnd(t,r),l.style.backgroundColor="#6500FF";var e=n.audios[o(Math.random()*n.audios.length)];e.play()}})}},{key:"onDragEnd",value:function(t,e){this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:this.params[e]},this.socket.id)}}]),a}(m.default)},"./scripts/blocks/interactions/Interaction.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>r});var r=function(){function e(t,o,s,n,r,l,i,u){var c=this;a(this,e),this.title=t,this.grid=o,this.position=s,this.params=n,this.socket=r,this.orientation=l,this.index=i,this.type=u,this.containerInteraction,this.interactions=[],this.vars(),this.bindMethods(),this.createContainerInteraction(),this.addClassContainer(),this.displayInteraction(this.containerInteraction),this.displayCursor(this.containerInteraction,this.orientation,this.params,this.index),document.addEventListener("swup:willReplaceContent",function(){c.destroy()})}return n(e,[{key:"vars",value:function(){}},{key:"bindMethods",value:function(){}},{key:"createContainerInteraction",value:function(){var e=document.createElement("div");e.dataset.name=this.title.replace(/\W/g,"_").toLowerCase(),e.style.gridArea=this.position;var t=document.createElement("p");t.innerHTML=this.title,this.grid.appendChild(e),e.appendChild(t),this.containerInteraction=e}},{key:"addClassContainer",value:function(){}},{key:"displayInteraction",value:function(){}},{key:"displayCursor",value:function(){}},{key:"destroy",value:function(){}}]),e}()},"./scripts/blocks/interactions/List.js":(e,t,o)=>{"use strict";function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=p();return function(){var o,a=f(e);if(t){var s=f(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return c(this,o)}}function c(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}o.r(t),o.d(t,{default:()=>b});var y=o("./scripts/blocks/interactions/Interaction.js"),b=function(e){function t(){return s(this,t),o.apply(this,arguments)}l(t,e);var o=u(t);return r(t,[{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("list")}},{key:"bindMethods",value:function(){this.clickListBtn=this.clickListBtn.bind(this)}},{key:"displayInteraction",value:function(e){var t=this;"string"==typeof this.params&&(this.params=[this.params]),this.params.forEach(function(o){var a=document.createElement("span");a.dataset.btnName=o.replace(/\W/g,"_").toLowerCase(),a.classList.add("grid-container__btn"),a.classList.add("js-sound-dashboard"),a.innerHTML=o,e.appendChild(a),t.interactions.push(a),a.addEventListener("click",t.clickListBtn)})}},{key:"clickListBtn",value:function(t){this.socket.emit("interaction:activated",{element:{name:this.title.replace(/\W/g,"_").toLowerCase()},actionMake:t.currentTarget.dataset.btnName},this.socket.id)}},{key:"destroy",value:function(){var e=this;this.interactions.forEach(function(t){t.removeEventListener("click",e.clickListBtn)})}}]),t}(y.default)},"./scripts/blocks/interactions/Rotate.js":(e,a,s)=>{"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function i(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=y();return function(){var o,a=b(e);if(t){var s=b(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return p(this,o)}}function p(e,t){return t&&("object"===n(t)||"function"==typeof t)?t:f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}s.r(a),s.d(a,{default:()=>h});var m=s("./scripts/blocks/interactions/Interaction.js"),h=function(e){function a(){return r(this,a),s.apply(this,arguments)}u(a,e);var s=d(a);return i(a,[{key:"vars",value:function(){this.audios=document.querySelectorAll(".sound-dashboard")}},{key:"addClassContainer",value:function(){this.containerInteraction.classList.add("rotate")}},{key:"bindMethods",value:function(){}},{key:"displayInteraction",value:function(e){var a=document.createElement("div"),s=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),l=this,i=0;a.classList.add("container-rotate"),r.classList.add("ticks"),s.setAttribute("id","knob"),n.setAttribute("id","marker"),e.appendChild(a),a.appendChild(s),a.appendChild(r),s.appendChild(n),this.params.forEach(function(e){var t=document.createElement("span");t.dataset.btnName=e.replace(/\W/g,"_").toLowerCase(),t.classList.add("tick"),t.innerHTML=e,r.appendChild(t)}),gsap.registerPlugin(Draggable),Draggable.create("#knob",{type:"rotation",liveSnap:!0,snap:function(e){var o=t(e,10);return i=t(o/360*l.params.length),t(360/l.params.length*i)},onDragEnd:function(){var e=i%l.params.length,a=l.audios[o(Math.random()*l.audios.length)];return a.play(),0>e&&(e=l.params.length+e),l.socket.emit("interaction:activated",{element:{name:l.title.replace(/\W/g,"_").toLowerCase()},actionMake:l.params[e]},l.socket.id),t(360/l.params.length*i)}})}}]),a}(m.default)},"./scripts/utils/Direction.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>r});var r=function(){function e(t,o){a(this,e),this.socket=t,this.swup=o,this.bindMethods(),this.init()}return n(e,[{key:"bindMethods",value:function(){this.direction=this.direction.bind(this)}},{key:"init",value:function(){this.socket&&this.socket.on("direction",this.direction)}},{key:"direction",value:function(e){var t=e.replace("/views/pages/","").replace(".ejs",""),o=document.querySelector(".js-".concat(t));o||this.swup.loadPage({url:e,method:"GET"})}},{key:"updateSocket",value:function(e){this.socket=e}}]),e}()},"./scripts/utils/PwaPopUp.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>r});var r=function(){function e(){a(this,e),this.initEls(),this.initEvents()}return n(e,[{key:"initEls",value:function(){this._beforeInstallPrompt}},{key:"initEvents",value:function(){"onbeforeinstallprompt"in window&&window.addEventListener("beforeinstallprompt",this.beforeInstallPrompt)}},{key:"beforeInstallPrompt",value:function(e){return e.preventDefault(),this._beforeInstallPrompt=e,this._beforeInstallPrompt.prompt().then(function(){return this._beforeInstallPrompt.userChoice}).then(function(){})["catch"](function(e){if(-1<e.message.indexOf("user gesture"));else if(-1<e.message.indexOf("The app is already installed"));else return e})}}]),e}()},"./scripts/utils/Sound.js":(e,t,a)=>{"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}a.r(t),a.d(t,{default:()=>l});var l=function(){function e(t){s(this,e),this.vars(t),this.initEls(),this.bindMethods(),this.initSounds(),this.initEvents(),this.socket&&this.socket.on("dashboard:display",this.addDashboardSound)}return r(e,[{key:"vars",value:function(e){this.sounds={button:"./../../../assets/sounds/button.wav",dasboards:["./../../../assets/sounds/dashboard/4.mp3","./../../../assets/sounds/dashboard/5.mp3","./../../../assets/sounds/dashboard/6.mp3","./../../../assets/sounds/dashboard/7.mp3"]},this.socket=e}},{key:"initEls",value:function(){this.$els={buttons:document.querySelectorAll(".js-sound-button"),dashboardButtons:document.querySelectorAll(".js-sound-dashboard")},this.buttonSound=document.querySelector(".sound-button"),this.dashboardSounds=document.querySelectorAll(".sound-dashboard")}},{key:"bindMethods",value:function(){this.soundButtonPlay=this.soundButtonPlay.bind(this),this.soundDashboardPlay=this.soundDashboardPlay.bind(this),this.addDashboardSound=this.addDashboardSound.bind(this)}},{key:"initSounds",value:function(){var e=this;this.$els.buttons&&!this.buttonSound&&(this.buttonSound=document.createElement("audio"),this.buttonSound.classList.add("sound-button"),this.buttonSound.src=this.sounds.button,this.buttonSound.setAttribute("preload","auto"),this.buttonSound.setAttribute("controls","none"),this.buttonSound.style.display="none",document.body.appendChild(this.buttonSound)),this.$els.dashboardButtons&&0===this.dashboardSounds.length&&this.sounds.dasboards.forEach(function(t,o){var a=document.createElement("audio");a.classList.add("sound-dashboard"),a.src=e.sounds.dasboards[o],a.setAttribute("preload","auto"),a.setAttribute("controls","none"),a.style.display="none",document.body.appendChild(a),e.dashboardSounds=document.querySelectorAll(".sound-dashboard")})}},{key:"addDashboardSound",value:function(){var e=this;setTimeout(function(){e.initEls(),e.initSounds(),e.initEvents()},500)}},{key:"initEvents",value:function(){var e=this;this.$els.buttons.forEach(function(t){t.addEventListener("mouseup",e.soundButtonPlay)}),this.$els.dashboardButtons.forEach(function(t){t.addEventListener("mouseup",e.soundDashboardPlay),t.addEventListener("dragend",e.soundDashboardPlay)})}},{key:"soundButtonPlay",value:function(){this.buttonSound.play()}},{key:"soundDashboardPlay",value:function(){var e=this.dashboardSounds[o(Math.random()*this.dashboardSounds.length)];e.play()}},{key:"destroy",value:function(){var e=this;this.socket&&this.socket.off("dashboard:display",this.addDashboardSound),this.$els.buttons.forEach(function(t){t.removeEventListener("mouseup",e.soundButtonPlay)}),this.$els.dashboardButtons.forEach(function(t){t.removeEventListener("mouseup",e.soundDashboardPlay),t.removeEventListener("dragleave",e.soundDashboardPlay)})}}]),e}()},"./scripts/utils/SplitContent.js":(e,t,o)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}o.r(t),o.d(t,{default:()=>i});var r=o("../node_modules/gsap/index.js"),l=o("../node_modules/gsap/SplitText.js"),i=function(){function e(){a(this,e),this.initEls(),this.initEvents()}return n(e,[{key:"initEls",value:function(){this.$els={texts:document.querySelectorAll(".js-split-text")}}},{key:"initEvents",value:function(){this.$els.texts&&this.splitText()}},{key:"splitText",value:function(){var e=this;r.default.registerPlugin(l.SplitText),setTimeout(function(){e.$els.texts.forEach(function(t,o){e.$els.texts[o].setAttribute("id","splitText-"+o),new l.SplitText("#splitText-"+o,{type:"words,chars"})})},10)}}]),e}()},"./main.scss":(e,t,o)=>{"use strict";o.r(t)},"../server/data/avatars.json":(e)=>{"use strict";e.exports=JSON.parse("[{\"src\":\"../../assets/images/avatars/avatar-0.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-1.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-2.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-3.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-4.png\",\"nbUsed\":0},{\"src\":\"../../assets/images/avatars/avatar-5.png\",\"nbUsed\":0}]")},"../server/data/levels.json":(e)=>{"use strict";e.exports=JSON.parse("[{\"team\":\"La team silence\",\"comment\":\"Dites-nous tout ! Vous avez peur de brusquer vos ami(e)s? Un groupe avec une telle abstinence pour parler est-il vraiment un groupe d\u2019ami(e)s\u2026\"},{\"team\":\"La team embarras\",\"comment\":\"Bah alors ? Des difficult\xE9s \xE0 parler \xE0 vos ami(e)s ? Il va falloir gagner en assurance et communiquer plus facilement\"},{\"team\":\"La team pudique\",\"comment\":\"on y croit ! ne soyez pas si r\xE9serv\xE9s ! Vous voulez vous prot\xE9ger de qui ici ?\"},{\"team\":\"La team s\xE9curit\xE9\",\"comment\":\"exposez -vous ! Vous avancez bien mais tout n\u2019est pas jou\xE9, jouez le risque ! Votre \xE9quipe craint encore les tabous\u2026\"},{\"team\":\"La team d\xE9crassage\",\"comment\":\"La moiti\xE9 ! Vous commencez \xE0 parler plus librement, continuez de retirer ses barri\xE8res ! Sauf si votre \xE9quipe est faible et ne se contente que de la moyenne ? \"},{\"team\":\"La team d'affranchissement\",\"comment\":\"La team affranchissement : 6 th\xE9matiques ! f\xE9licitations les tabous tombent ! il en reste encore ne vous reposez pas. Votre groupe d\u2019ami(e)s est-il capable de faire plus ?\"},{\"team\":\"La team pote \xE0 la compote\",\"comment\":\"Vous rayonnez ! de moins en moins de tabou entre vous, vous formez une jolie bande mais n'avez vous vraiment plus aucun malaise sur aucun sujet?\"},{\"team\":\"La Vrai team \",\"comment\":\"Mamaaamaaaaah ! on monte encore ! bien jou\xE9, les tabous n\u2019existent presque plus entre vous, continuez comme \xE7a !\"},{\"team\":\"La team frat\xE9 (fraternelle) \",\"comment\":\"Vraie vraie \xE9quipe ! Ne l\xE2chez pas vous allez bient\xF4t atteindre l\u2019apog\xE9e, l\u2019objectif de tout groupe d\u2019ami(e)s qui se respecte !\"},{\"team\":\"La Famille\",\"comment\":\"Vous arrivez en haut de l'\xE9chelle en bombe ! F\xE9licitation z\xE9ro g\xEAne, continuez ainsi ! pouvoir parler \xE0 voix haute de tant de choses c\u2019est tr\xE8s fort !\"}]")},"?0f89":()=>{},"?f22a":()=>{}},s={};e.m=a,(()=>{var t=[];e.O=(o,a,s,n)=>{if(a){n=n||0;for(var r=t.length;0<r&&t[r-1][2]>n;r--)t[r]=t[r-1];return void(t[r]=[a,s,n])}for(var l=Infinity,r=0;r<t.length;r++){for(var[a,s,n]=t[r],i=!0,u=0;u<a.length;u++)(!1&n||l>=n)&&Object.keys(e.O).every((t)=>e.O[t](a[u]))?a.splice(u--,1):(i=!1,n<l&&(l=n));i&&(t.splice(r--,1),o=s())}return o}})(),(()=>{e.n=(t)=>{var o=t&&t.__esModule?()=>t["default"]:()=>t;return e.d(o,{a:o}),o}})(),(()=>{e.d=(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})}})(),(()=>{e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{e.r=(e)=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var t={main:0};e.O.j=(e)=>0===t[e];var o=(o,a)=>{var s,n,[r,l,u]=a,c=0;for(s in l)e.o(l,s)&&(e.m[s]=l[s]);for(u&&u(e),o&&o(a);c<r.length;c++)n=r[c],e.o(t,n)&&t[n]&&t[n][0](),t[r[c]]=0;e.O()},a=self.webpackChunk=self.webpackChunk||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))})(),e.O(void 0,["node_vendors"],()=>e("./main.js"));var n=e.O(void 0,["node_vendors"],()=>e("./main.scss"));n=e.O(n)})();
//# sourceMappingURL=main.js.map